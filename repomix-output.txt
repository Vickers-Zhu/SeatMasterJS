This file is a merged representation of a subset of the codebase, containing specifically included files and files not matching ignore patterns, combined into a single document by Repomix. The content has been processed where comments have been removed, line numbers have been added.

================================================================
File Summary
================================================================

Purpose:
--------
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

File Format:
------------
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Multiple file entries, each consisting of:
  a. A separator line (================)
  b. The file path (File: path/to/file)
  c. Another separator line
  d. The full contents of the file
  e. A blank line

Usage Guidelines:
-----------------
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

Notes:
------
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: src/**/*, *.*
- Files matching these patterns are excluded: **/*.log, node_modules/**/*
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Code comments have been removed from supported file types
- Line numbers have been added to the beginning of each line

Additional Info:
----------------

================================================================
Directory Structure
================================================================
src/
  components/
    CustomText/
      CustomText.js
    ErrorBoundary/
      ErrorBoundary.js
    FadeInView/
      FadeInView.js
    Favourite/
      Favourite.js
    GlobalWrapper/
      GlobalWrapper.js
    SafeArea/
      SafeArea.js
    Separator/
      Separator.js
      Separator.styles.js
    Spacer/
      Spacer.js
    Switch/
      Switch.js
      Switch.styles.js
      SwitchAlternate.styles.js
    WebApp/
      styles.js
      useStaticServer.js
      WebApp.js
  data/
    mockData.js
  features/
    auth/
      components/
        CountryListItem.js
        CountryListItem.styles.js
        LoginDropDownPicker.js
        LoginDropDownPicker.styles.js
      screens/
        LoginScreen.js
        LoginScreen.styles.js
    merchant/
      components/
        SeatView.js
        SharedTableStyles.styles.js
        TableLayout.js
        TableMatrix.js
        TimeScroll.js
      screens/
        MerchantHomeScreen.js
        MerchantSettingsScreen.js
    reservations/
      components/
        PastReservationCard.js
        PastReservationCard.styles.js
        ReservationCard.js
        ReservationCard.styles.js
      screens/
        ReservationsScreen.js
    restaurants/
      components/
        Others.js
        RestaurantInfoCard.js
        RestaurantInfoCard.styles.js
        RestaurantList.styles.js
        RestaurantMenu.js
        RestaurantTabBar.js
        Reviews.js
        Search.js
        TabNavigation.js
      hooks/
        useReservationHandler.js
        useScrollHandler.js
      screens/
        RestaurantDetailScreen.js
        RestaurantsScreen.js
    settings/
      screens/
        AccountSettingsScreen.js
        AccountSettingsScreen.styles.js
        SettingsScreen.js
        SettingsScreen.styles.js
  infrastructure/
    navigation/
      AppNavigator.js
      AuthNavigator.js
      CheckoutNavigator.js
      index.js
      MerchantNavigator.js
      ReservationsNavigator.js
      RestaurantsNavigator.js
      SettingsNavigator.js
    options/
      GlobalScreenOptions.js
    theme/
      colors.js
      fonts.js
      index.js
      sizes.js
      spacing.js
  services/
    AuthenticationContext.js
.cursorignore
.gitignore
App.js
app.json
babel.config.js
eas.json
metro.config.js
package.json
repomix.config.json
tsconfig.json

================================================================
Files
================================================================

================
File: src/components/CustomText/CustomText.js
================
 1: import { Text } from "react-native";
 2: import styled from "styled-components";
 3: 
 4: const defaultTextStyles = (theme) => `
 5:   font-family: ${theme.fonts.body};
 6:   font-weight: ${theme.fontWeights.regular};
 7:   color: ${theme.colors.text.primary};
 8:   flex-wrap: wrap;
 9:   margin-top: 0px;
10:   margin-bottom: 0px;
11: `;
12: const title = (theme) => `
13:   font-size: ${theme.fontSizes.title};
14:   font-weight: ${theme.fontWeights.medium};
15: `;
16: const h5 = (theme) => `
17:   font-size: ${theme.fontSizes.h5};
18: `;
19: const h4 = (theme) => `
20:   font-size: ${theme.fontSizes.h4};
21: `;
22: const h3 = (theme) => `
23:   font-size: ${theme.fontSizes.h3};
24: `;
25: const h2 = (theme) => `
26:   font-size: ${theme.fontSizes.h2};
27: `;
28: const h1 = (theme) => `
29:   font-size: ${theme.fontSizes.h1};
30: `;
31: 
32: const body = (theme) => `
33:   font-size: ${theme.fontSizes.body};
34: `;
35: 
36: const hint = (theme) => `
37:   font-size: ${theme.fontSizes.body};
38: `;
39: 
40: const error = (theme) => `
41:   color: ${theme.colors.text.error};
42: `;
43: 
44: const caption = (theme) => `
45:   font-size: ${theme.fontSizes.caption};
46:   font-weight: ${theme.fontWeights.bold};
47: `;
48: 
49: const label = (theme) => `
50:   font-family: ${theme.fonts.heading};
51:   font-size: ${theme.fontSizes.body};
52:   font-weight: ${theme.fontWeights.medium};
53: `;
54: 
55: const variants = {
56:   body,
57:   hint,
58:   error,
59:   label,
60:   caption,
61:   title,
62:   h5,
63:   h4,
64:   h3,
65:   h2,
66:   h1,
67: };
68: 
69: export const CustomText = styled(Text)`
70:   ${({ theme }) => defaultTextStyles(theme)};
71:   ${({ variant, theme }) => variants[variant](theme)};
72: `;
73: 
74: CustomText.defaultProps = {
75:   variant: "body",
76: };

================
File: src/components/ErrorBoundary/ErrorBoundary.js
================
  1: import React from "react";
  2: import { TouchableOpacity } from "react-native";
  3: import styled from "styled-components/native";
  4: 
  5: 
  6: 
  7: 
  8: 
  9: 
 10: class ErrorBoundary extends React.Component {
 11:   constructor(props) {
 12:     super(props);
 13:     this.state = { hasError: false, error: null, errorInfo: null };
 14:   }
 15: 
 16: 
 17: 
 18: 
 19: 
 20:   static getDerivedStateFromError(error) {
 21:     return { hasError: true, error };
 22:   }
 23: 
 24: 
 25: 
 26: 
 27: 
 28: 
 29:   componentDidCatch(error, errorInfo) {
 30:     this.setState({ errorInfo });
 31: 
 32:     console.error("ErrorBoundary caught an error:", error, errorInfo);
 33: 
 34:   }
 35: 
 36: 
 37: 
 38: 
 39:   resetError = () => {
 40:     this.setState({ hasError: false, error: null, errorInfo: null });
 41:   };
 42: 
 43:   render() {
 44:     if (this.state.hasError) {
 45: 
 46:       return (
 47:         <ErrorContainer>
 48:           <ErrorTitle>Something went wrong.</ErrorTitle>
 49:           <ErrorMessage>
 50:             We're sorry for the inconvenience. Please try again later.
 51:           </ErrorMessage>
 52:           {}
 53:           <RetryButton onPress={this.resetError}>
 54:             <RetryButtonText>Try Again</RetryButtonText>
 55:           </RetryButton>
 56:           {}
 57:           {__DEV__ && this.state.errorInfo && (
 58:             <ErrorDetails>
 59:               <ErrorDetailsTitle>Error Details:</ErrorDetailsTitle>
 60:               <ErrorDetailsText>{this.state.error.toString()}</ErrorDetailsText>
 61:               <ErrorDetailsText>
 62:                 {this.state.errorInfo.componentStack}
 63:               </ErrorDetailsText>
 64:             </ErrorDetails>
 65:           )}
 66:         </ErrorContainer>
 67:       );
 68:     }
 69: 
 70: 
 71:     return this.props.children;
 72:   }
 73: }
 74: 
 75: 
 76: const ErrorContainer = styled.View`
 77:   flex: 1;
 78:   justify-content: center;
 79:   align-items: center;
 80:   padding: ${({ theme }) => theme.space[3]};
 81:   background-color: ${({ theme }) => theme.colors.bg.secondary};
 82: `;
 83: 
 84: const ErrorTitle = styled.Text`
 85:   font-size: ${({ theme }) => theme.fontSizes.title};
 86:   font-weight: ${({ theme }) => theme.fontWeights.bold};
 87:   color: ${({ theme }) => theme.colors.text.error};
 88:   margin-bottom: ${({ theme }) => theme.space[2]};
 89: `;
 90: 
 91: const ErrorMessage = styled.Text`
 92:   font-size: ${({ theme }) => theme.fontSizes.body};
 93:   color: ${({ theme }) => theme.colors.text.primary};
 94:   text-align: center;
 95:   margin-bottom: ${({ theme }) => theme.space[3]};
 96: `;
 97: 
 98: const RetryButton = styled(TouchableOpacity)`
 99:   padding-vertical: ${({ theme }) => theme.space[2]};
100:   padding-horizontal: ${({ theme }) => theme.space[3]};
101:   background-color: ${({ theme }) => theme.colors.ui.primary};
102:   border-radius: 5px;
103: `;
104: 
105: const RetryButtonText = styled.Text`
106:   font-size: ${({ theme }) => theme.fontSizes.button};
107:   color: ${({ theme }) => theme.colors.text.inverse};
108:   font-weight: ${({ theme }) => theme.fontWeights.bold};
109: `;
110: 
111: const ErrorDetails = styled.View`
112:   margin-top: ${({ theme }) => theme.space[3]};
113:   padding: ${({ theme }) => theme.space[2]};
114:   background-color: #f8d7da;
115:   border-radius: 5px;
116: `;
117: 
118: const ErrorDetailsTitle = styled.Text`
119:   font-size: ${({ theme }) => theme.fontSizes.body};
120:   font-weight: ${({ theme }) => theme.fontWeights.bold};
121:   color: ${({ theme }) => theme.colors.text.error};
122:   margin-bottom: ${({ theme }) => theme.space[1]};
123: `;
124: 
125: const ErrorDetailsText = styled.Text`
126:   font-size: ${({ theme }) => theme.fontSizes.caption};
127:   color: ${({ theme }) => theme.colors.text.error};
128: `;
129: 
130: export default ErrorBoundary;

================
File: src/components/FadeInView/FadeInView.js
================
 1: import React, { useRef, useEffect } from 'react';
 2: import { Animated } from 'react-native';
 3: 
 4: export const FadeInView = ({ duration = 1500, ...props }) => {
 5:   const fadeAnim = useRef(new Animated.Value(0)).current;
 6: 
 7:   useEffect(() => {
 8:     Animated.timing(fadeAnim, {
 9:       toValue: 1,
10:       duration: duration,
11:       useNativeDriver: true,
12:     }).start();
13:   }, [fadeAnim, duration]);
14: 
15:   return (
16:     <Animated.View
17:       style={{
18:         ...props.style,
19:         opacity: fadeAnim,
20:       }}
21:     >
22:       {props.children}
23:     </Animated.View>
24:   );
25: };

================
File: src/components/Favourite/Favourite.js
================
 1: import React, { useContext } from 'react';
 2: import { TouchableOpacity } from 'react-native';
 3: import styled from 'styled-components/native';
 4: 
 5: import { AntDesign } from '@expo/vector-icons';
 6: 
 7: 
 8: const FavouriteButton = styled(TouchableOpacity)`
 9:   position: absolute;
10:   top: 25px;
11:   right: 25px;
12:   z-index: 9;
13: `;
14: 
15: export const Favourite = ({ restaurant }) => {
16: 
17:   return (
18:     <FavouriteButton
19:     >
20:       <AntDesign
21:         name={false ? 'heart' : 'hearto'}
22:         size={24}
23:         color={false ? 'red' : 'white'}
24:       />
25:     </FavouriteButton>
26:   );
27: };

================
File: src/components/GlobalWrapper/GlobalWrapper.js
================
 1: import React from 'react';
 2: import { StatusBar as RNStatusBar, View } from 'react-native';
 3: import { SafeAreaProvider, useSafeAreaInsets } from 'react-native-safe-area-context';
 4: import styled from 'styled-components/native';
 5: 
 6: const StatusBarBackground = styled(View)`
 7:   background-color: ${(props) => props.backgroundColor || 'transparent'};
 8: `;
 9: 
10: const CustomStatusBar = ({ backgroundColor }) => {
11:   const insets = useSafeAreaInsets();
12:   return (
13:     <StatusBarBackground style={{ height: insets.top }} backgroundColor={backgroundColor} />
14:   );
15: };
16: 
17: export const GlobalWrapper = ({ children }) => (
18:   <SafeAreaProvider>
19:     <RNStatusBar barStyle="dark-content" />
20:     <CustomStatusBar backgroundColor="white" />
21:     {children}
22:   </SafeAreaProvider>
23: );

================
File: src/components/SafeArea/SafeArea.js
================
1: import { StatusBar, SafeAreaView } from 'react-native';
2: import styled from 'styled-components';
3: 
4: export const SafeArea = styled(SafeAreaView)`
5:   flex: 1;
6:   ${StatusBar.currentHeight && `margin-top: ${StatusBar.currentHeight}px`};
7:   background-color: ${(props) => props.theme.colors.bg.primary};
8: `;

================
File: src/components/Separator/Separator.js
================
 1: import React from "react";
 2: import PropTypes from "prop-types";
 3: import { SeparatorFull, SeparatorPartial } from "./Separator.styles";
 4: 
 5: export const Separator = ({ type }) => {
 6:   return type === "full" ? <SeparatorFull /> : <SeparatorPartial />;
 7: };
 8: 
 9: Separator.propTypes = {
10:   type: PropTypes.oneOf(["full", "partial"]),
11: };

================
File: src/components/Separator/Separator.styles.js
================
 1: import styled from "styled-components/native";
 2: 
 3: export const SeparatorFull = styled.View`
 4:   height: 1px;
 5:   background-color: rgba(0, 0, 0, 0.1);
 6:   width: 100%;
 7:   margin-vertical: ${(props) => props.theme.space[3]};
 8: `;
 9: 
10: export const SeparatorPartial = styled.View`
11:   height: 1px;
12:   background-color: rgba(0, 0, 0, 0.1);
13:   width: 80%;
14:   margin-vertical: ${(props) => props.theme.space[2]};
15:   margin-left: 66px;
16: `;

================
File: src/components/Spacer/Spacer.js
================
 1: import React from 'react';
 2: import { View } from 'react-native';
 3: import styled, { useTheme } from 'styled-components/native';
 4: 
 5: const sizeVariant = {
 6:   small: 1,
 7:   medium: 2,
 8:   large: 3,
 9:   xl: 4,
10:   xxl: 5,
11: };
12: 
13: const positionVariant = {
14:   top: 'marginTop',
15:   left: 'marginLeft',
16:   right: 'marginRight',
17:   bottom: 'marginBottom',
18: };
19: 
20: const getVariant = (position, size, theme) => {
21:   const sizeIndex = sizeVariant[size];
22:   const property = positionVariant[position];
23:   const value = theme.space[sizeIndex];
24: 
25:   return `${property}:${value}`;
26: };
27: 
28: const SpacerView = styled(View)`
29:   ${({ variant }) => variant};
30: `;
31: 
32: export const Spacer = ({ position = 'top', size = 'small', children }) => {
33:   const theme = useTheme();
34:   const variant = getVariant(position, size, theme);
35: 
36:   return <SpacerView variant={variant}>{children}</SpacerView>;
37: };

================
File: src/components/Switch/Switch.js
================
 1: import React, { useRef, useEffect } from "react";
 2: import { Animated, TouchableWithoutFeedback } from "react-native";
 3: 
 4: import * as DefaultStyles from "./Switch.styles";
 5: import * as AltStyles from "./SwitchAlternate.styles";
 6: 
 7: const SwitchContainer = ({
 8:   isOn,
 9:   setIsOn,
10:   leftLabel,
11:   rightLabel,
12:   variant = "default",
13: }) => {
14: 
15:   const Styles = variant === "alternate" ? AltStyles : DefaultStyles;
16: 
17: 
18:   const capsulePosition = useRef(new Animated.Value(isOn ? 96 : 0)).current;
19: 
20:   useEffect(() => {
21:     Animated.timing(capsulePosition, {
22:       toValue: isOn ? 96 : 0,
23:       duration: 200,
24:       useNativeDriver: false,
25:     }).start();
26:   }, [isOn]);
27: 
28:   return (
29:     <Styles.Container>
30:       <Styles.SwitchBackground>
31:         <Styles.Capsule style={{ left: capsulePosition }} />
32:         <TouchableWithoutFeedback onPress={() => setIsOn(false)}>
33:           <Styles.TextWrapper>
34:             {}
35:             <Styles.Label active={!isOn}>{leftLabel}</Styles.Label>
36:           </Styles.TextWrapper>
37:         </TouchableWithoutFeedback>
38:         <TouchableWithoutFeedback onPress={() => setIsOn(true)}>
39:           <Styles.TextWrapper>
40:             {}
41:             <Styles.Label active={isOn}>{rightLabel}</Styles.Label>
42:           </Styles.TextWrapper>
43:         </TouchableWithoutFeedback>
44:       </Styles.SwitchBackground>
45:     </Styles.Container>
46:   );
47: };
48: 
49: export default SwitchContainer;

================
File: src/components/Switch/Switch.styles.js
================
 1: import styled from "styled-components/native";
 2: import { Animated, Text } from "react-native";
 3: 
 4: export const Container = styled.View`
 5:   flex-direction: row;
 6:   justify-content: center;
 7:   align-items: center;
 8:   margin: 10px;
 9: `;
10: 
11: export const SwitchBackground = styled.View`
12:   flex-direction: row;
13:   justify-content: space-around;
14:   align-items: center;
15:   background-color: ${(props) => props.theme.colors.ui.disabled};
16:   border-radius: 25px;
17:   width: 200px;
18:   height: 50px;
19:   padding: 3px;
20: `;
21: 
22: export const Capsule = styled(Animated.View)`
23:   position: absolute;
24:   width: 50%;
25:   height: 100%;
26:   background-color: ${(props) => props.theme.colors.bg.primary};
27:   border-radius: 25px;
28:   margin: 3px;
29: `;
30: 
31: export const TextWrapper = styled.View`
32:   flex: 1;
33:   align-items: center;
34:   justify-content: center;
35: `;
36: 
37: export const Label = styled(Text)`
38:   font-size: ${(props) => props.theme.fontSizes.button};
39:   color: ${(props) => props.theme.colors.text.primary};
40: `;

================
File: src/components/Switch/SwitchAlternate.styles.js
================
 1: import styled from "styled-components/native";
 2: import { Animated, Text } from "react-native";
 3: 
 4: export const Container = styled.View`
 5:   flex-direction: row;
 6:   justify-content: center;
 7:   align-items: center;
 8:   margin: ${(props) => props.theme.space[2]};
 9: `;
10: 
11: export const SwitchBackground = styled.View`
12:   flex-direction: row;
13:   justify-content: space-around;
14:   align-items: center;
15:   background-color: ${(props) =>
16:     props.theme.colors.ui.disabled};
17:   border-radius: 25px;
18:   width: 200px;
19:   height: 50px;
20:   padding: ${(props) => props.theme.space[1]};
21: `;
22: 
23: export const Capsule = styled(Animated.View)`
24:   position: absolute;
25:   width: 50%;
26:   height: 100%;
27:   background-color: ${(props) =>
28:     props.theme.colors.ui.primary};
29:   border-radius: 25px;
30:   margin: ${(props) => props.theme.space[1]};
31: `;
32: 
33: export const TextWrapper = styled.View`
34:   flex: 1;
35:   align-items: center;
36:   justify-content: center;
37: `;
38: 
39: export const Label = styled(Text)`
40:   font-size: ${(props) => props.theme.fontSizes.button};
41:   font-family: ${(props) => props.theme.fonts.body};
42:   color: ${(props) =>
43:     props.active
44:       ? props.theme.colors.text.inverse
45:       : props.theme.colors.text.primary};
46: `;

================
File: src/components/WebApp/styles.js
================
 1: import styled from "styled-components/native";
 2: import { WebView } from "react-native-webview";
 3: import { TouchableOpacity, Text, View } from "react-native";
 4: 
 5: 
 6: export const Container = styled.View`
 7:   width: 100%;
 8:   height: ${({ height }) => height}px;
 9:   background-color: ${({ theme }) => theme.colors.bg.primary};
10: `;
11: 
12: // Styled WebView
13: export const StyledWebView = styled(WebView)`
14:   flex: 1;
15:   width: 100%;
16: `;
17: 
18: // Footer container
19: export const Footer = styled.View`
20:   padding: ${({ theme }) => theme.space[3]};
21:   background-color: ${({ theme }) => theme.colors.ui.tertiary};
22:   flex-direction: row;
23:   justify-content: space-between;
24:   align-items: center;
25: `;
26: 
27: // Text displaying selected chairs
28: export const SelectedText = styled(Text)`
29:   flex: 1;
30:   margin-right: ${({ theme }) => theme.space[2]};
31:   color: ${({ theme }) => theme.colors.text.primary};
32:   font-size: ${({ theme }) => theme.fontSizes.body};
33:   font-family: ${({ theme }) => theme.fonts.body};
34: `;
35: 
36: // Cancel button
37: export const CancelButton = styled(TouchableOpacity)`
38:   padding: ${({ theme }) => theme.space[2]};
39:   background-color: ${({ theme }) => theme.colors.ui.error};
40:   border-radius: 4px;
41: `;
42: 
43: // Text inside the Cancel button
44: export const CancelButtonText = styled(Text)`
45:   color: ${({ theme }) => theme.colors.text.inverse};
46:   font-size: ${({ theme }) => theme.fontSizes.button};
47:   font-family: ${({ theme }) => theme.fonts.body};
48:   text-align: center;
49: `;

================
File: src/components/WebApp/useStaticServer.js
================
 1: import { useEffect, useState } from "react";
 2: import StaticServer from "react-native-static-server";
 3: import RNFS from "react-native-fs";
 4: 
 5: const useStaticServer = () => {
 6:   const [url, setUrl] = useState("");
 7: 
 8:   useEffect(() => {
 9:     let server = null;
10: 
11:     const startServer = async () => {
12:       const path = `${RNFS.MainBundlePath}/3d_build`; // Ensure this path exists and contains your web app
13:       console.log(`Inner webapp path verified: ${path}`);
14:       server = new StaticServer(0, path, { localOnly: true });
15:       try {
16:         const serverUrl = await server.start();
17:         setUrl(serverUrl);
18:         console.log(`Server hosting at: ${serverUrl}`);
19:       } catch (error) {
20:         console.error("Failed to start server:", error);
21:       }
22:     };
23: 
24:     startServer();
25: 
26: 
27:     return () => {
28:       if (server) {
29:         server.stop();
30:       }
31:     };
32:   }, []);
33: 
34:   return url;
35: };
36: 
37: export default useStaticServer;

================
File: src/components/WebApp/WebApp.js
================
  1: import React, { useEffect, useRef, useState, useCallback } from "react";
  2: import { View, ActivityIndicator } from "react-native";
  3: import { WebView } from "react-native-webview";
  4: import styled from "styled-components/native";
  5: import useStaticServer from "./useStaticServer";
  6: 
  7: import {
  8:   Container,
  9:   StyledWebView,
 10:   Footer,
 11:   SelectedText,
 12:   CancelButton,
 13:   CancelButtonText,
 14: } from "./styles";
 15: 
 16: const WebApp = ({ onInteractionStart, onInteractionEnd }) => {
 17:   const serverUrl = useStaticServer();
 18:   const webViewRef = useRef(null);
 19:   const [webViewHeight, setWebViewHeight] = useState(200);
 20:   const [selectedChairs, setSelectedChairs] = useState([]);
 21:   const [occupiedChairs, setOccupiedChairs] = useState(["CHAIR2", "CHAIR4"]);
 22:   const [isServerReady, setIsServerReady] = useState(false);
 23: 
 24: 
 25:   useEffect(() => {
 26:     if (serverUrl) {
 27:       setIsServerReady(true);
 28:     }
 29:   }, [serverUrl]);
 30: 
 31:   const sendChairsToWebView = useCallback(() => {
 32:     if (webViewRef.current) {
 33:       const script = `
 34:         (function() {
 35:           if (window.updateChairs) {
 36:             window.updateChairs({
 37:               selectedChairs: ${JSON.stringify(selectedChairs)},
 38:               occupiedChairs: ${JSON.stringify(occupiedChairs)}
 39:             });
 40:           }
 41:         })();
 42:         true;
 43:       `;
 44:       webViewRef.current.injectJavaScript(script);
 45:     }
 46:   }, [selectedChairs, occupiedChairs]);
 47: 
 48:   useEffect(() => {
 49:     sendChairsToWebView();
 50:   }, [selectedChairs, occupiedChairs, sendChairsToWebView]);
 51: 
 52:   const handleWebViewMessage = useCallback(
 53:     (event) => {
 54:       try {
 55:         const messageData = JSON.parse(event.nativeEvent.data);
 56: 
 57:         switch (messageData.type) {
 58:           case "chairClicked":
 59:             if (occupiedChairs.includes(messageData.name)) {
 60:               return;
 61:             }
 62:             setSelectedChairs((prevSelected) => {
 63:               if (prevSelected.includes(messageData.name)) {
 64:                 return prevSelected.filter((name) => name !== messageData.name);
 65:               } else {
 66:                 return [...prevSelected, messageData.name];
 67:               }
 68:             });
 69:             break;
 70: 
 71:           case "contentHeight":
 72:             const height = Number(messageData.height);
 73:             if (height > 0 && height !== webViewHeight) {
 74:               setWebViewHeight(height);
 75:             }
 76:             break;
 77: 
 78:           case "interactionStart":
 79:             if (onInteractionStart) {
 80:               onInteractionStart();
 81:             }
 82:             break;
 83: 
 84:           case "interactionEnd":
 85:             if (onInteractionEnd) {
 86:               onInteractionEnd();
 87:             }
 88:             break;
 89: 
 90:           default:
 91:             console.warn("Unhandled message type:", messageData.type);
 92:         }
 93:       } catch (error) {
 94:         console.error("Failed to parse message from WebView:", error);
 95:       }
 96:     },
 97:     [occupiedChairs, webViewHeight, onInteractionStart, onInteractionEnd]
 98:   );
 99: 
100:   const cancelSelection = () => {
101:     setSelectedChairs([]);
102:   };
103: 
104:   return (
105:     <View style={{ flex: 1 }}>
106:       {isServerReady ? (
107:         <Container height={webViewHeight}>
108:           <StyledWebView
109:             ref={webViewRef}
110:             source={{ uri: serverUrl }}
111:             scrollEnabled={false}
112:             cacheEnabled={false}
113:             cacheMode="LOAD_NO_CACHE"
114:             originWhitelist={["*"]}
115:             onError={(syntheticEvent) => {
116:               const { nativeEvent } = syntheticEvent;
117:               console.warn("WebView error: ", nativeEvent);
118:             }}
119:             onMessage={handleWebViewMessage}
120:             onLoadEnd={() => {
121:               sendChairsToWebView();
122:             }}
123:           />
124:         </Container>
125:       ) : (
126:         <View
127:           style={{ flex: 1, justifyContent: "center", alignItems: "center" }}
128:         >
129:           <ActivityIndicator size="large" color="#0000ff" />
130:         </View>
131:       )}
132:       <Footer>
133:         <SelectedText>
134:           Selected Chairs: {selectedChairs.join(", ") || "None"}
135:         </SelectedText>
136:         <CancelButton onPress={cancelSelection}>
137:           <CancelButtonText>Cancel Selection</CancelButtonText>
138:         </CancelButton>
139:       </Footer>
140:     </View>
141:   );
142: };
143: 
144: export default WebApp;

================
File: src/data/mockData.js
================
  1: export const restaurants = [
  2:   {
  3:     name: "La Piazza",
  4:     icon: "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png",
  5:     photos: [
  6:       "https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Zm9vZHxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
  7:     ],
  8:     address: "123 Piazza Street",
  9:     isOpenNow: true,
 10:     rating: 4.5,
 11:     isClosedTemporarily: false,
 12:     placeId: "1",
 13:   },
 14:   {
 15:     name: "Sushi World",
 16:     icon: "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png",
 17:     photos: ["https://images.unsplash.com/photo-1553621042-f6e147245754"],
 18:     address: "456 Sushi Lane",
 19:     isOpenNow: true,
 20:     rating: 5,
 21:     isClosedTemporarily: false,
 22:     placeId: "2",
 23:   },
 24:   {
 25:     name: "Burger House",
 26:     icon: "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png",
 27:     photos: ["https://images.unsplash.com/photo-1550547660-d9450f859349"],
 28:     address: "789 Burger Blvd",
 29:     isOpenNow: false,
 30:     rating: 3.8,
 31:     isClosedTemporarily: false,
 32:     placeId: "3",
 33:   },
 34:   {
 35:     name: "Ocean Breeze CafÃ©",
 36:     icon: "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png",
 37:     photos: [
 38:       "https://images.unsplash.com/photo-1544511916-0148ccdeb877?auto=format&fit=crop&w=400&q=60",
 39:     ],
 40:     address: "101 Ocean Drive",
 41:     isOpenNow: true,
 42:     rating: 4.2,
 43:     isClosedTemporarily: false,
 44:     placeId: "4",
 45:   },
 46: ];
 47: 
 48: export const reservations = [
 49:   {
 50:     id: 1,
 51:     restaurant: restaurants[0],
 52:     date: "2024-04-01",
 53:     time: "7:00 PM",
 54:     seatsNumber: 4,
 55:     status: "Confirmed",
 56:   },
 57:   {
 58:     id: 2,
 59:     restaurant: restaurants[1],
 60:     date: "2024-03-15",
 61:     time: "6:30 PM",
 62:     seatsNumber: 2,
 63:     status: "Completed",
 64:   },
 65:   {
 66:     id: 3,
 67:     restaurant: restaurants[2],
 68:     date: "2024-03-20",
 69:     time: "6:00 PM",
 70:     seatsNumber: 3,
 71:     status: "Completed",
 72:   },
 73:   {
 74:     id: 4,
 75:     restaurant: restaurants[3],
 76:     date: "2024-03-28",
 77:     time: "6:00 PM",
 78:     seatsNumber: 3,
 79:     status: "Completed",
 80:   },
 81: ];
 82: 
 83: export const countryCodes = [
 84:   {
 85:     flag: "ðŸ‡ºðŸ‡¸",
 86:     countryName: "United States",
 87:     code: "+1",
 88:   },
 89:   {
 90:     flag: "ðŸ‡¬ðŸ‡§",
 91:     countryName: "United Kingdom",
 92:     code: "+44",
 93:   },
 94:   {
 95:     flag: "ðŸ‡¨ðŸ‡¦",
 96:     countryName: "Canada",
 97:     code: "+1",
 98:   },
 99:   {
100:     flag: "ðŸ‡¦ðŸ‡º",
101:     countryName: "Australia",
102:     code: "+61",
103:   },
104:   {
105:     flag: "ðŸ‡³ðŸ‡¿",
106:     countryName: "New Zealand",
107:     code: "+64",
108:   },
109:   {
110:     flag: "ðŸ‡®ðŸ‡³",
111:     countryName: "India",
112:     code: "+91",
113:   },
114:   {
115:     flag: "ðŸ‡¨ðŸ‡³",
116:     countryName: "China",
117:     code: "+86",
118:   },
119:   {
120:     flag: "ðŸ‡¯ðŸ‡µ",
121:     countryName: "Japan",
122:     code: "+81",
123:   },
124: ];
125: 
126: export const users = [
127:   {
128:     username: "Vickers Zhu",
129:     email: "****@example.com",
130:     profileImage: require("../../assets/images/user_profile.jpg"),
131:     phoneNumber: "+81 **** ****",
132:   },
133: ];
134: 
135: export const tableStatuses = {
136:   "0-1": { id: 1, row: 0, col: 1, status: "empty" },
137:   "0-2": { id: 2, row: 0, col: 2, status: "empty" },
138:   "1-0": { id: 3, row: 1, col: 0, status: "empty" },
139:   "1-1": { id: 4, row: 1, col: 1, status: "occupied" },
140:   "1-2": { id: 5, row: 1, col: 2, status: "empty" },
141:   "1-3": { id: 6, row: 1, col: 3, status: "empty" },
142:   "2-0": { id: 7, row: 2, col: 0, status: "reserved" },
143:   "2-1": { id: 8, row: 2, col: 1, status: "empty" },
144:   "2-2": { id: 9, row: 2, col: 2, status: "empty" },
145:   "2-3": { id: 10, row: 2, col: 3, status: "occupied" },
146:   "3-1": { id: 11, row: 3, col: 1, status: "empty" },
147:   "3-2": { id: 12, row: 3, col: 2, status: "empty" },
148: };
149: 
150: export const seatingData = {
151:   tables: [
152:     { id: 1, chairs: [{ id: "1A" }, { id: "1B" }, { id: "1C" }] },
153:     { id: 2, chairs: [{ id: "2A" }, { id: "2B" }, { id: "2C" }, { id: "2D" }] },
154:     { id: 3, chairs: [{ id: "3A" }, { id: "3B" }] },
155:     { id: 4, chairs: [{ id: "4A" }, { id: "4B" }, { id: "4C" }, { id: "4D" }] },
156:     { id: 5, chairs: [{ id: "5A" }, { id: "5B" }, { id: "5C" }] },
157:     { id: 6, chairs: [{ id: "6A" }, { id: "6B" }] },
158:     { id: 7, chairs: [{ id: "7A" }, { id: "7B" }, { id: "7C" }, { id: "7D" }] },
159:     { id: 8, chairs: [{ id: "8A" }, { id: "8B" }] },
160:     { id: 9, chairs: [{ id: "9A" }, { id: "9B" }, { id: "9C" }] },
161:     {
162:       id: 10,
163:       chairs: [{ id: "10A" }, { id: "10B" }, { id: "10C" }, { id: "10D" }],
164:     },
165:     { id: 11, chairs: [{ id: "11A" }, { id: "11B" }] },
166:     { id: 12, chairs: [{ id: "12A" }, { id: "12B" }, { id: "12C" }] },
167:   ],
168:   counterSeats: [
169:     { id: "C1" },
170:     { id: "C2" },
171:     { id: "C3" },
172:     { id: "C4" },
173:     { id: "C5" },
174:   ],
175: };

================
File: src/features/auth/components/CountryListItem.js
================
 1: import React from "react";
 2: import {
 3:   ListItemContainer,
 4:   CountryInfoContainer,
 5:   FlagText,
 6:   CountryNameText,
 7:   CodeText,
 8: } from "./CountryListItem.styles";
 9: import { TouchableOpacity } from "react-native";
10: 
11: const CountryListItem = ({ item, onPress }) => (
12:   <TouchableOpacity onPress={() => onPress(item)} activeOpacity={0.6}>
13:     <ListItemContainer>
14:       <CountryInfoContainer>
15:         <FlagText>{item.flag}</FlagText>
16:         <CountryNameText>{item.countryName}</CountryNameText>
17:       </CountryInfoContainer>
18:       <CodeText>{item.code}</CodeText>
19:     </ListItemContainer>
20:   </TouchableOpacity>
21: );
22: 
23: export default CountryListItem;

================
File: src/features/auth/components/CountryListItem.styles.js
================
 1: import styled from "styled-components/native";
 2: 
 3: export const ListItemContainer = styled.View`
 4:   flex-direction: row;
 5:   align-items: center;
 6:   padding: ${(props) => props.theme.space[3]};
 7:   background-color: ${(props) => props.theme.colors.bg.primary};
 8:   border-bottom-width: 0.5px;
 9:   border-bottom-color: ${(props) => props.theme.colors.ui.tertiary};
10:   margin-horizontal: ${(props) => props.theme.space[2]};
11: `;
12: 
13: export const CountryInfoContainer = styled.View`
14:   flex-direction: row;
15:   align-items: center;
16:   flex: 1;
17: `;
18: 
19: export const FlagText = styled.Text`
20:   font-size: ${(props) => props.theme.fontSizes.title};
21:   margin-right: ${(props) => props.theme.space[3]};
22: `;
23: 
24: export const CountryNameText = styled.Text`
25:   font-family: ${(props) => props.theme.fonts.body};
26:   font-size: ${(props) => props.theme.fontSizes.body};
27:   color: ${(props) => props.theme.colors.text.primary};
28: `;
29: 
30: export const CodeText = styled.Text`
31:   font-family: ${(props) => props.theme.fonts.body};
32:   font-size: ${(props) => props.theme.fontSizes.body};
33:   color: ${(props) => props.theme.colors.text.secondary};
34:   margin-left: ${(props) => props.theme.space[2]};
35:   flex-shrink: 0;
36: `;

================
File: src/features/auth/components/LoginDropDownPicker.js
================
 1: import React, { useState } from "react";
 2: import { View } from "react-native";
 3: import { StyledDropDownPicker } from "./LoginDropDownPicker.styles";
 4: import CountryListItem from "./CountryListItem";
 5: 
 6: const LoginDropDownPicker = ({
 7:   countryCodes,
 8:   selectedCountry,
 9:   setSelectedCountry,
10:   containerWidth,
11: }) => {
12:   const [open, setOpen] = useState(false);
13: 
14:   return (
15:     <StyledDropDownPicker
16:       open={open}
17:       value={selectedCountry}
18:       items={countryCodes.map((item) => ({
19:         label: `${item.flag} ${item.code}`,
20:         value: item.countryName,
21:         countryName: item.countryName,
22:         code: item.code,
23:         flag: item.flag,
24:       }))}
25:       setOpen={setOpen}
26:       setValue={(val) => {
27:         const selectedItem = countryCodes.find(
28:           (item) => item.countryName === val
29:         );
30:         setSelectedCountry(selectedItem?.countryName);
31:       }}
32:       placeholder="Select"
33:       listMode="SCROLLVIEW"
34:       renderListItem={({ item }) => (
35:         <CountryListItem
36:           item={item}
37:           onPress={(selectedItem) => {
38:             setSelectedCountry(selectedItem.countryName);
39:             setOpen(false);
40:           }}
41:         />
42:       )}
43:       containerWidth={containerWidth}
44:     />
45:   );
46: };
47: 
48: export default LoginDropDownPicker;

================
File: src/features/auth/components/LoginDropDownPicker.styles.js
================
 1: import styled from "styled-components/native";
 2: import DropDownPicker from "react-native-dropdown-picker";
 3: 
 4: export const StyledDropDownPicker = styled(DropDownPicker).attrs(
 5:   ({ theme, containerWidth }) => ({
 6:     style: {
 7:       backgroundColor: theme.colors.bg.secondary,
 8:       borderColor: theme.colors.ui.primary,
 9:       borderRadius: theme.space[3],
10:       minHeight: 50,
11:     },
12:     dropDownContainerStyle: {
13:       position: "absolute",
14:       width: containerWidth,
15:       backgroundColor: theme.colors.bg.primary,
16:       borderColor: theme.colors.ui.secondary,
17:     },
18:   })
19: )``;

================
File: src/features/auth/screens/LoginScreen.js
================
  1: import React, { useState } from "react";
  2: import { View } from "react-native";
  3: import { Formik } from "formik";
  4: import * as yup from "yup";
  5: import { countryCodes } from "../../../data/mockData";
  6: import {
  7:   Container,
  8:   TopRightContainer,
  9:   Logo,
 10:   InputContainer,
 11:   FlexContainer,
 12:   TextInput,
 13:   Button,
 14:   ButtonText,
 15:   LinkText,
 16:   ErrorText,
 17:   TitleText,
 18: } from "./LoginScreen.styles";
 19: import LoginDropDownPicker from "../components/LoginDropDownPicker";
 20: import SwitchContainer from "../../../components/Switch/Switch";
 21: import { useAuthentication } from "../../../services/AuthenticationContext";
 22: 
 23: 
 24: const validationSchema = yup.object().shape({
 25:   phone: yup
 26:     .string()
 27:     .required("Phone number is required")
 28:     .matches(/^\d+$/, "Phone number must contain only digits"),
 29:   password: yup
 30:     .string()
 31:     .min(6, "Password must be at least 6 characters")
 32:     .required("Password is required"),
 33: });
 34: 
 35: export const LoginScreen = ({ navigation }) => {
 36:   const [selectedCountry, setSelectedCountry] = useState("United States");
 37:   const [containerWidth, setContainerWidth] = useState(380);
 38: 
 39:   const [isMerchant, setIsMerchant] = useState(false);
 40:   const { onLogin, isLoading, error } = useAuthentication();
 41: 
 42:   const handleLogin = (values) => {
 43:     const selectedCode =
 44:       countryCodes.find((country) => country.countryName === selectedCountry)
 45:         ?.code || "+1";
 46:     onLogin(
 47:       `${selectedCode}${values.phone}`,
 48:       values.password,
 49:       isMerchant ? "merchant" : "customer"
 50:     );
 51:   };
 52: 
 53:   return (
 54:     <Container>
 55:       {}
 56:       <TopRightContainer style={{ transform: [{ scale: 0.8 }] }}>
 57:         <SwitchContainer
 58:           isOn={isMerchant}
 59:           setIsOn={setIsMerchant}
 60:           leftLabel="Customer"
 61:           rightLabel="Merchant"
 62:           variant="alternate"
 63:         />
 64:       </TopRightContainer>
 65: 
 66:       <Logo source={require("../../../../assets/images/splash copy.png")} />
 67:       <TitleText variant="title">Login</TitleText>
 68: 
 69:       <Formik
 70:         initialValues={{ phone: "", password: "" }}
 71:         validationSchema={validationSchema}
 72:         onSubmit={handleLogin}
 73:       >
 74:         {({
 75:           handleChange,
 76:           handleBlur,
 77:           handleSubmit,
 78:           values,
 79:           errors,
 80:           touched,
 81:           isValid,
 82:         }) => (
 83:           <>
 84:             <InputContainer
 85:               style={{ zIndex: 2000, elevation: 2000 }}
 86:               onLayout={(event) => {
 87:                 const { width } = event.nativeEvent.layout;
 88:                 setContainerWidth(width);
 89:               }}
 90:             >
 91:               <FlexContainer>
 92:                 <View
 93:                   style={{
 94:                     flex: 0.29,
 95:                     marginRight: "2%",
 96:                     zIndex: 9000,
 97:                     elevation: 9000,
 98:                   }}
 99:                 >
100:                   <LoginDropDownPicker
101:                     countryCodes={countryCodes}
102:                     selectedCountry={selectedCountry}
103:                     setSelectedCountry={setSelectedCountry}
104:                     containerWidth={containerWidth}
105:                   />
106:                 </View>
107:                 <View style={{ flex: 0.71 }}>
108:                   <TextInput
109:                     placeholder="Phone number"
110:                     placeholderTextColor="#9C9C9C"
111:                     keyboardType="number-pad"
112:                     onChangeText={handleChange("phone")}
113:                     onBlur={handleBlur("phone")}
114:                     value={values.phone}
115:                   />
116:                 </View>
117:               </FlexContainer>
118:               {errors.phone && touched.phone && (
119:                 <ErrorText>{errors.phone}</ErrorText>
120:               )}
121:             </InputContainer>
122: 
123:             <InputContainer>
124:               <TextInput
125:                 placeholder="Password"
126:                 placeholderTextColor="#9C9C9C"
127:                 secureTextEntry
128:                 autoCapitalize="none"
129:                 onChangeText={handleChange("password")}
130:                 onBlur={handleBlur("password")}
131:                 value={values.password}
132:               />
133:               {errors.password && touched.password && (
134:                 <ErrorText>{errors.password}</ErrorText>
135:               )}
136:             </InputContainer>
137: 
138:             <Button onPress={handleSubmit} disabled={!isValid}>
139:               <ButtonText> {isLoading ? "Logging in..." : "Login"} </ButtonText>
140:             </Button>
141:             {error && <ErrorText>{error}</ErrorText>}
142: 
143:             <LinkText onPress={() => console.log("Navigate to SignUp")}>
144:               Don't have an account? Sign Up
145:             </LinkText>
146:           </>
147:         )}
148:       </Formik>
149:     </Container>
150:   );
151: };

================
File: src/features/auth/screens/LoginScreen.styles.js
================
 1: import styled from "styled-components/native";
 2: import { CustomText } from "../../../components/CustomText/CustomText";
 3: 
 4: export const Container = styled.View`
 5:   flex: 1;
 6:   justify-content: flex-start;
 7:   align-items: center;
 8:   background-color: ${(props) => props.theme.colors.bg.primary};
 9:   padding: ${(props) => props.theme.space[4]};
10: `;
11: 
12: export const Logo = styled.Image`
13:   height: 100px;
14:   width: 100px;
15:   margin-bottom: ${(props) => props.theme.space[4]};
16: `;
17: 
18: export const InputContainer = styled.View`
19:   width: 100%;
20:   margin-bottom: ${(props) => props.theme.space[3]};
21: `;
22: 
23: export const TextInput = styled.TextInput`
24:   width: 100%;
25:   padding: ${(props) => props.theme.space[3]};
26:   font-size: ${(props) => props.theme.fontSizes.body};
27:   color: ${(props) => props.theme.colors.text.primary};
28:   background-color: ${(props) => props.theme.colors.bg.secondary};
29:   border-radius: ${(props) => props.theme.space[2]};
30: `;
31: 
32: export const FlexContainer = styled.View`
33:   z-index: 9999;
34:   elevation: 9999;
35:   flex-direction: row;
36:   align-items: center;
37:   width: 100%;
38: `;
39: 
40: export const Button = styled.TouchableOpacity`
41:   width: 90%;
42:   padding: ${(props) => props.theme.space[3]};
43:   background-color: ${(props) => props.theme.colors.ui.primary};
44:   border-radius: ${(props) => props.theme.space[1]};
45:   align-items: center;
46:   margin-top: ${(props) => props.theme.space[3]};
47: `;
48: 
49: export const ButtonText = styled(CustomText)`
50:   color: ${(props) => props.theme.colors.text.inverse};
51:   font-size: ${(props) => props.theme.fontSizes.body};
52: `;
53: 
54: export const LinkText = styled(CustomText)`
55:   margin-top: ${(props) => props.theme.space[2]};
56:   color: ${(props) => props.theme.colors.text.secondary};
57:   text-decoration: underline;
58:   font-size: ${(props) => props.theme.fontSizes.caption};
59: `;
60: 
61: export const ErrorText = styled(CustomText)`
62:   color: ${(props) => props.theme.colors.text.error};
63:   font-size: ${(props) => props.theme.fontSizes.caption};
64:   margin-top: ${(props) => props.theme.space[1]};
65: `;
66: 
67: export const TitleText = styled(CustomText)`
68:   color: ${(props) => props.theme.colors.text.primary};
69:   padding-bottom: ${(props) => props.theme.space[4]};
70:   font-size: ${(props) => props.theme.fontSizes.title};
71: `;
72: 
73: export const TopRightContainer = styled.View`
74:   position: absolute;
75:   top: ${(props) => props.theme.space[0]};
76:   right: ${(props) => props.theme.space[0]};
77:   z-index: 10000;
78: `;

================
File: src/features/merchant/components/SeatView.js
================
 1: import React from "react";
 2: import { ScrollView } from "react-native";
 3: import styled from "styled-components/native";
 4: import { CustomText } from "../../../components/CustomText/CustomText";
 5: import {
 6:   SharedTableItem,
 7:   SharedChairItem,
 8:   SharedChairsRow,
 9:   VerticalSeparator as DefaultVerticalSeparator,
10: } from "./SharedTableStyles.styles";
11: 
12: 
13: const RowContainer = styled.View`
14:   flex-direction: row;
15:   align-items: center;
16:   margin-bottom: ${({ theme }) => theme.space[2]};
17: `;
18: 
19: // Left column: table item with fixed dimensions
20: const TableColumn = styled.View`
21:   width: 60px;
22:   align-items: center;
23: `;
24: 
25: // Right column: chairs for that table
26: const ChairsColumn = styled.View`
27:   flex: 1;
28:   padding-left: ${({ theme }) => theme.space[2]};
29: `;
30: 
31: // Vertical separator with fixed height (matching table height)
32: const VerticalSeparator = styled(DefaultVerticalSeparator)`
33:   height: 60px;
34: `;
35: 
36: // Container for the counter seats section
37: const CounterContainer = styled.View`
38:   margin-bottom: ${({ theme }) => theme.space[3]};
39:   padding: ${({ theme }) => theme.space[2]};
40: `;
41: 
42: export const SeatView = ({ seatingData, tableStatuses }) => {
43:   return (
44:     <ScrollView>
45:       {}
46:       {seatingData.counterSeats && seatingData.counterSeats.length > 0 && (
47:         <CounterContainer>
48:           <CustomText variant="label">Counter</CustomText>
49:           <SharedChairsRow>
50:             {seatingData.counterSeats.map((seat) => (
51:               <SharedChairItem
52:                 key={seat.id}
53:                 style={{ width: 40, height: 40, margin: 4 }}
54:               >
55:                 <CustomText variant="body">{seat.id}</CustomText>
56:               </SharedChairItem>
57:             ))}
58:           </SharedChairsRow>
59:         </CounterContainer>
60:       )}
61: 
62:       {}
63:       {seatingData.tables.map((table) => (
64:         <RowContainer key={table.id}>
65:           <TableColumn>
66:             <SharedTableItem
67:               status={((tableStatuses || {})[table.id] || {}).status || "empty"}
68:               style={{ width: 60, height: 60 }}
69:             >
70:               <CustomText variant="label">{table.id}</CustomText>
71:             </SharedTableItem>
72:           </TableColumn>
73:           <VerticalSeparator />
74:           <ChairsColumn>
75:             <SharedChairsRow>
76:               {table.chairs.map((chair) => (
77:                 <SharedChairItem
78:                   key={chair.id}
79:                   style={{ width: 40, height: 40, margin: 4 }}
80:                 >
81:                   <CustomText variant="body">{chair.id}</CustomText>
82:                 </SharedChairItem>
83:               ))}
84:             </SharedChairsRow>
85:           </ChairsColumn>
86:         </RowContainer>
87:       ))}
88:     </ScrollView>
89:   );
90: };

================
File: src/features/merchant/components/SharedTableStyles.styles.js
================
 1: import styled from "styled-components/native";
 2: import { TouchableOpacity, View } from "react-native";
 3: 
 4: 
 5: export const SharedTableItem = styled(TouchableOpacity)`
 6:   background-color: ${({ status, theme }) =>
 7:     status === "occupied"
 8:       ? "#ff4d4d"
 9:       : status === "reserved"
10:       ? "#ffd11a"
11:       : "#b3ffb3"};
12:   padding: 8px;
13:   border-radius: 8px;
14:   margin-bottom: ${({ theme }) => theme.space[2]};
15:   justify-content: center;
16:   align-items: center;
17:   min-width: 60px;
18:   min-height: 60px;
19: `;
20: 
21: 
22: export const SharedChairItem = styled(TouchableOpacity)`
23:   background-color: ${({ theme }) => theme.colors.bg.secondary};
24:   padding: 4px;
25:   border-radius: 4px;
26:   margin: 4px;
27:   justify-content: center;
28:   align-items: center;
29:   min-width: 40px;
30:   min-height: 40px;
31: `;
32: 
33: 
34: export const SharedChairsRow = styled(View)`
35:   flex-direction: row;
36:   flex-wrap: wrap;
37: `;
38: 
39: 
40: export const VerticalSeparator = styled(View)`
41:   width: 1px;
42:   background-color: rgba(0, 0, 0, 0.1);
43:   margin-horizontal: ${({ theme }) => theme.space[2]};
44:   align-self: stretch;
45: `;

================
File: src/features/merchant/components/TableLayout.js
================
  1: import React, { useState, useRef, useEffect } from "react";
  2: import {
  3:   View,
  4:   Text,
  5:   Animated,
  6:   PanResponder,
  7:   TouchableOpacity,
  8: } from "react-native";
  9: import styled from "styled-components/native";
 10: 
 11: const FloorPlanContainer = styled.View`
 12:   width: 100%;
 13:   height: 400px;
 14:   background-color: ${({ theme }) => theme.colors.bg.secondary};
 15:   position: relative;
 16: `;
 17: 
 18: const TableMarkerContainer = styled(Animated.View)`
 19:   position: absolute;
 20:   width: 60px;
 21:   height: 60px;
 22:   background-color: ${({ status, theme }) =>
 23:     status === "occupied" ? "#ff4d4d" : "#b3ffb3"};
 24:   border-radius: 8px;
 25:   justify-content: center;
 26:   align-items: center;
 27:   border: 2px solid ${({ theme }) => theme.colors.ui.primary};
 28: `;
 29: 
 30: const ResetButton = styled(TouchableOpacity)`
 31:   background-color: ${({ theme }) => theme.colors.ui.primary};
 32:   padding: 10px;
 33:   border-radius: 8px;
 34:   align-self: center;
 35:   margin-top: 16px;
 36: `;
 37: 
 38: const ButtonText = styled.Text`
 39:   color: ${({ theme }) => theme.colors.text.inverse};
 40:   font-weight: bold;
 41: `;
 42: 
 43: const defaultTablesData = [
 44:   { id: 1, x: 20, y: 30, status: "empty" },
 45:   { id: 2, x: 100, y: 30, status: "occupied" },
 46:   { id: 3, x: 180, y: 30, status: "empty" },
 47:   { id: 4, x: 20, y: 120, status: "reserved" },
 48:   { id: 5, x: 100, y: 120, status: "empty" },
 49:   { id: 6, x: 180, y: 120, status: "occupied" },
 50: ];
 51: 
 52: export const TableLayout = ({ tables = defaultTablesData, onTablePress }) => {
 53: 
 54:   const initialPositions = {};
 55:   tables.forEach((table) => {
 56:     initialPositions[table.id] = { x: table.x, y: table.y };
 57:   });
 58: 
 59: 
 60:   const [positions] = useState(() => {
 61:     const pos = {};
 62:     tables.forEach((table) => {
 63:       pos[table.id] = new Animated.ValueXY({ x: table.x, y: table.y });
 64:     });
 65:     return pos;
 66:   });
 67: 
 68: 
 69:   const resetPositions = () => {
 70:     tables.forEach((table) => {
 71:       Animated.spring(positions[table.id], {
 72:         toValue: {
 73:           x: initialPositions[table.id].x,
 74:           y: initialPositions[table.id].y,
 75:         },
 76:         useNativeDriver: false,
 77:       }).start();
 78:     });
 79:   };
 80: 
 81: 
 82:   const createPanResponder = (tableId) => {
 83:     return PanResponder.create({
 84:       onStartShouldSetPanResponder: () => true,
 85:       onPanResponderGrant: () => {
 86:         positions[tableId].setOffset({
 87:           x: positions[tableId].x._value,
 88:           y: positions[tableId].y._value,
 89:         });
 90:         positions[tableId].setValue({ x: 0, y: 0 });
 91:       },
 92:       onPanResponderMove: Animated.event(
 93:         [null, { dx: positions[tableId].x, dy: positions[tableId].y }],
 94:         { useNativeDriver: false }
 95:       ),
 96:       onPanResponderRelease: () => {
 97:         positions[tableId].flattenOffset();
 98:         if (onTablePress) {
 99:           onTablePress(tableId);
100:         }
101:       },
102:     });
103:   };
104: 
105: 
106:   const panRespondersRef = useRef({});
107:   useEffect(() => {
108:     tables.forEach((table) => {
109:       panRespondersRef.current[table.id] = createPanResponder(table.id);
110:     });
111:   }, [tables]);
112: 
113:   return (
114:     <>
115:       <FloorPlanContainer>
116:         {tables.map((table) => (
117:           <TableMarkerContainer
118:             key={table.id}
119:             status={table.status}
120:             style={positions[table.id].getLayout()}
121:             {...(panRespondersRef.current[table.id]
122:               ? panRespondersRef.current[table.id].panHandlers
123:               : {})}
124:           >
125:             <Text>{table.id}</Text>
126:           </TableMarkerContainer>
127:         ))}
128:       </FloorPlanContainer>
129:       <ResetButton onPress={resetPositions}>
130:         <ButtonText>Reset Layout</ButtonText>
131:       </ResetButton>
132:     </>
133:   );
134: };

================
File: src/features/merchant/components/TableMatrix.js
================
 1: import React, { useState } from "react";
 2: import { View, Text, useWindowDimensions } from "react-native";
 3: import styled from "styled-components/native";
 4: import { SharedTableItem } from "./SharedTableStyles.styles";
 5: 
 6: const Row = styled.View`
 7:   flex-direction: row;
 8:   margin-bottom: ${({ theme }) => theme.space[2]};
 9: `;
10: 
11: const FIXED_BUTTON_SIZE = 60;
12: const FIXED_MARGIN_RIGHT = 16;
13: 
14: export const TableMatrix = ({
15:   tableStatuses: initialTableStatuses,
16:   onTablePress,
17: }) => {
18:   const [tableStatuses, setTableStatuses] = useState(initialTableStatuses);
19:   const { width: screenWidth } = useWindowDimensions();
20: 
21:   // Calculate maximum rows and columns based on tableStatuses keys (assumed format "row-col")
22:   const entries = Object.values(tableStatuses);
23:   const maxRow =
24:     entries.length > 0 ? Math.max(...entries.map((e) => e.row)) : 0;
25:   const maxCol =
26:     entries.length > 0 ? Math.max(...entries.map((e) => e.col)) : 0;
27:   const rows = maxRow + 1;
28:   const columns = maxCol + 1;
29: 
30:   const horizontalPadding = 32;
31:   const totalRequiredWidth =
32:     columns * FIXED_BUTTON_SIZE + (columns - 1) * FIXED_MARGIN_RIGHT;
33:   const availableWidth = screenWidth - horizontalPadding;
34:   const scale =
35:     totalRequiredWidth > availableWidth
36:       ? availableWidth / totalRequiredWidth
37:       : 1;
38: 
39:   const buttonSize = FIXED_BUTTON_SIZE * scale;
40:   const marginRight = FIXED_MARGIN_RIGHT * scale;
41: 
42:   const handlePress = (row, col, currentStatus) => {
43:     const key = `${row}-${col}`;
44:     const newStatus = currentStatus === "empty" ? "occupied" : "empty";
45:     console.log(
46:       `Table pressed: key=${key}, oldStatus=${currentStatus}, newStatus=${newStatus}`
47:     );
48:     setTableStatuses((prev) => ({
49:       ...prev,
50:       [key]: { id: prev[key]?.id || key, row, col, status: newStatus },
51:     }));
52:     if (onTablePress) {
53:       onTablePress(key, newStatus);
54:     }
55:   };
56: 
57:   return (
58:     <View style={{ padding: 16 }}>
59:       {Array.from({ length: rows }).map((_, rowIndex) => (
60:         <Row key={rowIndex}>
61:           {Array.from({ length: columns }).map((_, colIndex) => {
62:             const key = `${rowIndex}-${colIndex}`;
63:             const entry = tableStatuses[key];
64:             if (entry) {
65:               return (
66:                 <SharedTableItem
67:                   key={entry.id}
68:                   status={entry.status}
69:                   onPress={() => handlePress(rowIndex, colIndex, entry.status)}
70:                   style={{ width: buttonSize, height: buttonSize, marginRight }}
71:                 >
72:                   <Text>{entry.id}</Text>
73:                 </SharedTableItem>
74:               );
75:             } else {
76:               return (
77:                 <View
78:                   key={key}
79:                   style={{ width: buttonSize, height: buttonSize, marginRight }}
80:                 />
81:               );
82:             }
83:           })}
84:         </Row>
85:       ))}
86:     </View>
87:   );
88: };

================
File: src/features/merchant/components/TimeScroll.js
================
  1: import React, { useRef } from "react";
  2: import styled from "styled-components/native";
  3: import { Animated } from "react-native";
  4: import { LinearGradient } from "expo-linear-gradient";
  5: 
  6: const ITEM_HEIGHT = 50;
  7: const VISIBLE_ITEMS = 5;
  8: const CONTAINER_HEIGHT = ITEM_HEIGHT * VISIBLE_ITEMS;
  9: const CONTAINER_WIDTH = 60;
 10: const PADDING_VERTICAL = (CONTAINER_HEIGHT - ITEM_HEIGHT) / 2;
 11: 
 12: const Container = styled.View`
 13:   height: ${CONTAINER_HEIGHT}px;
 14:   width: ${CONTAINER_WIDTH}px;
 15:   background-color: ${(props) => props.theme.colors.bg.secondary};
 16:   overflow: hidden;
 17:   border-radius: 30px;
 18:   position: relative;
 19: `;
 20: 
 21: const StyledAnimatedItem = styled(Animated.View)`
 22:   height: ${ITEM_HEIGHT}px;
 23:   justify-content: center;
 24:   align-items: center;
 25: `;
 26: 
 27: const TimeText = styled.Text`
 28:   color: ${(props) => props.theme.colors.text.primary};
 29:   font-size: 18px;
 30:   font-family: ${(props) => props.theme.fonts.body};
 31: `;
 32: 
 33: export const TimeScroll = ({ times, selectedTime, onTimeChange }) => {
 34:   const scrollY = useRef(new Animated.Value(0)).current;
 35: 
 36:   const handleMomentumScrollEnd = (event) => {
 37:     const offsetY = event.nativeEvent.contentOffset.y;
 38:     const index = Math.round(offsetY / ITEM_HEIGHT);
 39:     if (index >= 0 && index < times.length) {
 40:       onTimeChange(times[index]);
 41:     }
 42:   };
 43: 
 44:   return (
 45:     <Container>
 46:       <Animated.ScrollView
 47:         contentContainerStyle={{ paddingVertical: PADDING_VERTICAL }}
 48:         showsVerticalScrollIndicator={false}
 49:         snapToInterval={ITEM_HEIGHT}
 50:         decelerationRate="fast"
 51:         bounces={false}
 52:         onMomentumScrollEnd={handleMomentumScrollEnd}
 53:         onScroll={Animated.event(
 54:           [{ nativeEvent: { contentOffset: { y: scrollY } } }],
 55:           { useNativeDriver: true }
 56:         )}
 57:         scrollEventThrottle={16}
 58:       >
 59:         {times.map((time, index) => {
 60:           const inputRange = [
 61:             (index - 1) * ITEM_HEIGHT,
 62:             index * ITEM_HEIGHT,
 63:             (index + 1) * ITEM_HEIGHT,
 64:           ];
 65: 
 66:           const scale = scrollY.interpolate({
 67:             inputRange,
 68:             outputRange: [0.7, 1, 0.7],
 69:             extrapolate: "clamp",
 70:           });
 71: 
 72:           const opacity = scrollY.interpolate({
 73:             inputRange,
 74:             outputRange: [0.3, 1, 0.3],
 75:             extrapolate: "clamp",
 76:           });
 77: 
 78:           const rotateX = scrollY.interpolate({
 79:             inputRange,
 80:             outputRange: ["30deg", "0deg", "-30deg"],
 81:             extrapolate: "clamp",
 82:           });
 83: 
 84:           return (
 85:             <StyledAnimatedItem
 86:               key={index}
 87:               style={{
 88:                 transform: [{ perspective: 1000 }, { rotateX }, { scale }],
 89:                 opacity,
 90:               }}
 91:             >
 92:               <TimeText>{time}</TimeText>
 93:             </StyledAnimatedItem>
 94:           );
 95:         })}
 96:       </Animated.ScrollView>
 97:       {}
 98:       <LinearGradient
 99:         colors={["rgba(241,241,241,1)", "rgba(241,241,241,0)"]}
100:         style={{
101:           position: "absolute",
102:           top: 0,
103:           left: 0,
104:           right: 0,
105:           height: 20,
106:         }}
107:         pointerEvents="none"
108:       />
109:       {}
110:       <LinearGradient
111:         colors={["rgba(241,241,241,0)", "rgba(241,241,241,1)"]}
112:         style={{
113:           position: "absolute",
114:           bottom: 0,
115:           left: 0,
116:           right: 0,
117:           height: 20,
118:         }}
119:         pointerEvents="none"
120:       />
121:     </Container>
122:   );
123: };

================
File: src/features/merchant/screens/MerchantHomeScreen.js
================
  1: import React, { useState, useEffect, useRef } from "react";
  2: import { Animated } from "react-native";
  3: import styled from "styled-components/native";
  4: import SwitchContainer from "../../../components/Switch/Switch";
  5: import { TableMatrix } from "../components/TableMatrix";
  6: import { TimeScroll } from "../components/TimeScroll";
  7: import { SeatView } from "../components/SeatView";
  8: import { tableStatuses, seatingData } from "../../../data/mockData";
  9: 
 10: 
 11: const Container = styled.View`
 12:   flex: 1;
 13:   background-color: ${(props) => props.theme.colors.bg.primary};
 14:   padding: 16px;
 15:   position: relative;
 16: `;
 17: 
 18: // Wrapper for the main content area (tables or seats).
 19: const MatrixWrapper = styled.View`
 20:   flex: 1;
 21:   margin-top: 16px;
 22: `;
 23: 
 24: // Animated container for the time scroll overlay.
 25: const AnimatedTimeScrollContainer =
 26:   Animated.createAnimatedComponent(styled.View`
 27:     position: absolute;
 28:     right: 16px;
 29:     top: 0;
 30:     bottom: 0;
 31:     justify-content: center;
 32:     align-items: center;
 33:   `);
 34: 
 35: export const MerchantHomeScreen = () => {
 36:   const [times, setTimes] = useState(generateTimes(5));
 37:   const [selectedTime, setSelectedTime] = useState(times[0]);
 38:   const [isSeatMode, setIsSeatMode] = useState(false);
 39:   const [tableStatusesState, setTableStatusesState] = useState(tableStatuses);
 40:   // overlayOpacity controls the transparency of the time scroll overlay.
 41:   const overlayOpacity = useRef(new Animated.Value(1)).current;
 42: 
 43:   // Function to generate times.
 44:   function generateTimes(count) {
 45:     let timesArray = [];
 46:     let current = new Date();
 47:     current.setSeconds(0);
 48:     current.setMilliseconds(0);
 49:     for (let i = 0; i < count; i++) {
 50:       const hours = current.getHours();
 51:       const minutes = current.getMinutes();
 52:       const timeString = `${hours.toString().padStart(2, "0")}:${minutes
 53:         .toString()
 54:         .padStart(2, "0")}`;
 55:       timesArray.push(timeString);
 56:       current.setHours(current.getHours() + 1);
 57:     }
 58:     return timesArray;
 59:   }
 60: 
 61:   // Update times periodically.
 62:   useEffect(() => {
 63:     const updateTimes = () => {
 64:       const newTimes = generateTimes(5);
 65:       setTimes(newTimes);
 66:       setSelectedTime(newTimes[0]);
 67:     };
 68:     updateTimes();
 69:     const interval = setInterval(updateTimes, 6000);
 70:     return () => clearInterval(interval);
 71:   }, []);
 72: 
 73:   const handleTimeChange = (time) => {
 74:     setSelectedTime(time);
 75:     console.log("Time changed to:", time);
 76:   };
 77: 
 78:   const handleTablePress = (key, status) => {
 79:     // Example logic to update table statuses.
 80:     const newStatus = status === "empty" ? "occupied" : "empty";
 81:     console.log(`Table ${key} changed from ${status} to ${newStatus}`);
 82:     setTableStatusesState((prev) => ({
 83:       ...prev,
 84:       [key]: { ...prev[key], status: newStatus },
 85:     }));
 86:   };
 87: 
 88: 
 89:   const onScrollBegin = () => {
 90:     Animated.timing(overlayOpacity, {
 91:       toValue: 0,
 92:       duration: 100,
 93:       useNativeDriver: true,
 94:     }).start();
 95:   };
 96: 
 97: 
 98:   const onScrollEnd = () => {
 99:     Animated.timing(overlayOpacity, {
100:       toValue: 1,
101:       duration: 100,
102:       useNativeDriver: true,
103:     }).start();
104:   };
105: 
106:   return (
107:     <Container>
108:       <SwitchContainer
109:         isOn={isSeatMode}
110:         setIsOn={setIsSeatMode}
111:         leftLabel="Tables"
112:         rightLabel="Seats"
113:         variant="default"
114:       />
115:       <MatrixWrapper>
116:         {isSeatMode ? (
117:           <Animated.ScrollView
118:             onScrollBeginDrag={onScrollBegin}
119:             onScrollEndDrag={onScrollEnd}
120:             scrollEventThrottle={16}
121:           >
122:             <SeatView
123:               seatingData={seatingData}
124:               tableStatuses={tableStatusesState}
125:             />
126:           </Animated.ScrollView>
127:         ) : (
128:           <TableMatrix
129:             tableStatuses={tableStatusesState}
130:             onTablePress={handleTablePress}
131:           />
132:         )}
133:       </MatrixWrapper>
134:       <AnimatedTimeScrollContainer style={{ opacity: overlayOpacity }}>
135:         <TimeScroll
136:           times={times}
137:           selectedTime={selectedTime}
138:           onTimeChange={handleTimeChange}
139:         />
140:       </AnimatedTimeScrollContainer>
141:     </Container>
142:   );
143: };

================
File: src/features/merchant/screens/MerchantSettingsScreen.js
================
 1: import React from "react";
 2: import styled from "styled-components/native";
 3: import { TouchableOpacity } from "react-native";
 4: import { useAuthentication } from "../../../services/AuthenticationContext";
 5: 
 6: const Container = styled.View`
 7:   flex: 1;
 8:   justify-content: center;
 9:   align-items: center;
10:   background-color: ${(props) => props.theme.colors.bg.secondary};
11: `;
12: 
13: const Title = styled.Text`
14:   font-family: ${(props) => props.theme.fonts.heading};
15:   font-size: ${(props) => props.theme.fontSizes.title};
16:   color: ${(props) => props.theme.colors.text.primary};
17: `;
18: 
19: const LogoutButton = styled(TouchableOpacity)`
20:   margin-top: 20px;
21:   padding: 10px 20px;
22:   background-color: ${(props) => props.theme.colors.ui.error};
23:   border-radius: 8px;
24: `;
25: 
26: const LogoutButtonText = styled.Text`
27:   color: ${(props) => props.theme.colors.text.inverse};
28:   font-size: ${(props) => props.theme.fontSizes.body};
29:   font-family: ${(props) => props.theme.fonts.body};
30: `;
31: 
32: export const MerchantSettingsScreen = () => {
33:   const { onLogout } = useAuthentication();
34: 
35:   return (
36:     <Container>
37:       <Title>Merchant Settings Screen</Title>
38:       <LogoutButton onPress={onLogout}>
39:         <LogoutButtonText>Logout</LogoutButtonText>
40:       </LogoutButton>
41:     </Container>
42:   );
43: };

================
File: src/features/reservations/components/PastReservationCard.js
================
 1: import React from "react";
 2: import { View } from "react-native";
 3: import { useNavigation } from "@react-navigation/native";
 4: import styled, { useTheme } from "styled-components/native";
 5: 
 6: import { Spacer } from "../../../components/Spacer/Spacer";
 7: import { CustomText } from "../../../components/CustomText/CustomText";
 8: 
 9: import {
10:   PastReservationCardContainer,
11:   CircleImage,
12:   InfoContainer,
13:   InfoText,
14:   StatusText,
15:   ViewStoreButton,
16:   ViewStoreButtonText,
17: } from "./PastReservationCard.styles";
18: 
19: export const PastReservationCard = ({ reservation = {} }) => {
20:   const navigation = useNavigation();
21: 
22:   const {
23:     restaurant = {},
24:     date = "2024-04-01",
25:     status = "Completed",
26:   } = reservation;
27: 
28:   return (
29:     <PastReservationCardContainer>
30:       <CircleImage source={{ uri: restaurant.photos[0] }} />
31:       <InfoContainer>
32:         <CustomText variant="title">{restaurant.name}</CustomText>
33:         <Spacer position="top" size="small" />
34:         <InfoText>Reserved Date: {date}</InfoText>
35:         <Spacer position="top" size="small" />
36:         <StatusText>{status}</StatusText>
37:       </InfoContainer>
38:       <ViewStoreButton
39:         onPress={() => {
40:           navigation.navigate("RestaurantDetailScreen", {
41:             restaurant: restaurant,
42:           });
43:         }}
44:       >
45:         <ViewStoreButtonText>View Store</ViewStoreButtonText>
46:       </ViewStoreButton>
47:     </PastReservationCardContainer>
48:   );
49: };

================
File: src/features/reservations/components/PastReservationCard.styles.js
================
 1: import styled from "styled-components/native";
 2: import { View, Text, Image, TouchableOpacity } from "react-native";
 3: 
 4: 
 5: 
 6: 
 7: 
 8: 
 9: export const PastReservationCardContainer = styled(View)`
10:   flex-direction: row;
11:   align-items: center;
12:   padding-left: ${(props) => props.theme.space[3]};
13:   padding-right: ${(props) => props.theme.space[3]};
14:   border-radius: 8px;
15:   margin-vertical: ${(props) => props.theme.space[2]};
16: `;
17: 
18: 
19: export const CircleImage = styled(Image)`
20:   width: 50px;
21:   height: 50px;
22:   border-radius: 25px;
23: `;
24: 
25: 
26: export const InfoContainer = styled(View)`
27:   flex: 1;
28:   margin-left: ${(props) => props.theme.space[3]};
29: `;
30: 
31: 
32: export const InfoText = styled(Text)`
33:   font-family: ${(props) => props.theme.fonts.body};
34:   font-size: ${(props) => props.theme.fontSizes.body};
35:   color: ${(props) => props.theme.colors.text.primary};
36: `;
37: 
38: 
39: export const StatusText = styled(Text)`
40:   font-family: ${(props) => props.theme.fonts.body};
41:   font-size: ${(props) => props.theme.fontSizes.body};
42:   color: ${(props) => props.theme.colors.text.primary};
43: `;
44: 
45: 
46: export const ViewStoreButton = styled(TouchableOpacity)`
47:   padding-vertical: ${(props) => props.theme.space[2]};
48:   padding-horizontal: ${(props) => props.theme.space[2]};
49:   background-color: ${(props) => props.theme.colors.ui.tertiary};
50:   border-radius: 25px;
51: `;
52: 
53: 
54: export const ViewStoreButtonText = styled(Text)`
55:   font-family: ${(props) => props.theme.fonts.body};
56:   font-size: ${(props) => props.theme.fontSizes.button};
57:   color: ${(props) => props.theme.colors.text.primary};
58:   text-align: center;
59: `;

================
File: src/features/reservations/components/ReservationCard.js
================
 1: import React from "react";
 2: import { View } from "react-native";
 3: import { useNavigation } from "@react-navigation/native";
 4: import styled, { useTheme } from "styled-components/native";
 5: 
 6: import { Spacer } from "../../../components/Spacer/Spacer";
 7: import { CustomText } from "../../../components/CustomText/CustomText";
 8: 
 9: import {
10:   ReservationCardContainer,
11:   ReservationCardCover,
12:   Info,
13:   Section,
14:   ReservationDetails,
15:   DetailText,
16:   TrackButton,
17:   TrackButtonText,
18: } from "./ReservationCard.styles";
19: 
20: export const ReservationCard = ({ reservation = {} }) => {
21:   const navigation = useNavigation();
22:   const theme = useTheme();
23: 
24:   const {
25:     restaurant = {},
26:     date = "2024-04-01",
27:     time = "7:00 PM",
28:     seatsNumber = 4,
29:     status = "Confirmed",
30:   } = reservation;
31: 
32:   return (
33:     <ReservationCardContainer elevation={0}>
34:       <ReservationCardCover source={{ uri: restaurant.photos[0] }} />
35:       <Info>
36:         <CustomText variant="title">{restaurant.name}</CustomText>
37:         <Section>
38:           <ReservationDetails>
39:             <DetailText>Time: {time}</DetailText>
40:             <DetailText>Seats: {seatsNumber}</DetailText>
41:             <DetailText>Date: {date}</DetailText>
42:           </ReservationDetails>
43:           <TrackButton
44:             onPress={() => {
45:               navigation.navigate("RestaurantDetailScreen", {
46:                 restaurant: restaurant,
47:                 presentationStyle: "modal",
48:                 openReservationView: true,
49:               });
50:             }}
51:           >
52:             <TrackButtonText>Track</TrackButtonText>
53:           </TrackButton>
54:         </Section>
55:       </Info>
56:     </ReservationCardContainer>
57:   );
58: };

================
File: src/features/reservations/components/ReservationCard.styles.js
================
 1: import styled from "styled-components/native";
 2: import { Image, View, TouchableOpacity, Text } from "react-native";
 3: import { Card } from "react-native-paper";
 4: 
 5: 
 6: 
 7: 
 8: 
 9: 
10: export const ReservationCardContainer = styled(Card)`
11:   background-color: ${(props) => props.theme.colors.bg.primary};
12:   width: 98%;
13:   align-self: center;
14:   border-radius: 8px;
15: 
16:   /* Remove elevation for Android */
17:   elevation: 0;
18: 
19:   /* Remove shadow for iOS */
20:   shadow-color: transparent;
21:   shadow-opacity: 0;
22:   shadow-radius: 0px;
23: `;
24: 
25: 
26: export const ReservationCardCover = styled(Card.Cover)`
27:   padding: ${(props) => props.theme.space[3]};
28:   background-color: ${(props) => props.theme.colors.bg.primary};
29:   height: 150px;
30:   border-top-left-radius: 8px;
31:   border-top-right-radius: 8px;
32: `;
33: 
34: 
35: export const Info = styled(View)`
36:   padding-left: ${(props) => props.theme.space[3]};
37:   padding-right: ${(props) => props.theme.space[3]};
38:   padding-bottom: 0;
39:   margin-top: -5px;
40: `;
41: 
42: 
43: export const Section = styled(View)`
44:   flex-direction: row;
45:   justify-content: space-between;
46:   align-items: center;
47:   margin-top: ${(props) => props.theme.space[2]};
48: `;
49: 
50: 
51: export const ReservationDetails = styled(View)`
52:   flex-direction: column;
53: `;
54: 
55: 
56: export const DetailText = styled(Text)`
57:   font-family: ${(props) => props.theme.fonts.body};
58:   font-size: ${(props) => props.theme.fontSizes.body};
59:   color: ${(props) => props.theme.colors.text.primary};
60: `;
61: 
62: 
63: export const TrackButton = styled(TouchableOpacity)`
64:   padding: ${(props) => props.theme.space[1]} ${(props) => props.theme.space[2]};
65:   background-color: ${(props) => props.theme.colors.ui.primary};
66:   border-radius: 25px;
67: `;
68: 
69: 
70: export const TrackButtonText = styled(Text)`
71:   padding: ${(props) => props.theme.space[2]};
72:   font-family: ${(props) => props.theme.fonts.body};
73:   font-size: ${(props) => props.theme.fontSizes.body};
74:   color: ${(props) => props.theme.colors.bg.primary};
75:   text-align: center;
76: `;

================
File: src/features/reservations/screens/ReservationsScreen.js
================
 1: import React from "react";
 2: import styled from "styled-components/native";
 3: import { ScrollView } from "react-native";
 4: import { useNavigation } from "@react-navigation/native";
 5: 
 6: import { reservations } from "../../../data/mockData";
 7: import { CustomText } from "../../../components/CustomText/CustomText";
 8: import { SafeArea } from "../../../components/SafeArea/SafeArea";
 9: import { Spacer } from "../../../components/Spacer/Spacer";
10: import { ReservationCard } from "../components/ReservationCard";
11: import { PastReservationCard } from "../components/PastReservationCard";
12: import { Separator } from "../../../components/Separator/Separator";
13: 
14: const Container = styled(SafeArea)`
15:   flex: 1;
16:   background-color: ${(props) => props.theme.colors.bg.primary};
17:   padding: ${(props) => props.theme.space[3]};
18: `;
19: 
20: const SectionTitle = styled(CustomText)`
21:   margin-left: ${(props) => props.theme.space[2]};
22:   padding-left: ${(props) => props.theme.space[2]};
23: `;
24: 
25: export const ReservationsScreen = () => {
26:   const navigation = useNavigation();
27: 
28: 
29:   const currentReservations = reservations.filter(
30:     (reservation) =>
31:       reservation.status === "Confirmed" || reservation.status === "Pending"
32:   );
33:   const pastReservations = reservations.filter(
34:     (reservation) => reservation.status === "Completed"
35:   );
36: 
37:   return (
38:     <Container>
39:       <ScrollView>
40:         {}
41:         <Spacer position="top" size="small" />
42:         <SectionTitle variant="title">Current Reservations</SectionTitle>
43:         {currentReservations.map((reservation, index) => (
44:           <React.Fragment key={reservation.id}>
45:             <ReservationCard reservation={reservation} />
46:             {currentReservations.length > 2 &&
47:               index < currentReservations.length - 1 && (
48:                 <Separator type="full" />
49:               )}
50:           </React.Fragment>
51:         ))}
52:         <Separator type="full" />
53: 
54:         {}
55:         <SectionTitle variant="title">Past Reservations</SectionTitle>
56:         <Spacer position="top" size="small" />
57:         {pastReservations.map((reservation, index) => (
58:           <React.Fragment key={reservation.id}>
59:             <PastReservationCard reservation={reservation} />
60:             {index < pastReservations.length - 1 && (
61:               <Separator type="partial" />
62:             )}
63:           </React.Fragment>
64:         ))}
65:       </ScrollView>
66:     </Container>
67:   );
68: };

================
File: src/features/restaurants/components/Others.js
================
 1: import React from "react";
 2: import { View, Text } from "react-native";
 3: import { List, Divider } from "react-native-paper";
 4: 
 5: const Others = () => (
 6:   <View>
 7:     <Text style={{ fontSize: 24, margin: 16 }}>Others</Text>
 8:     <List.Accordion
 9:       title="Others"
10:       left={(props) => <List.Icon {...props} icon="dots-horizontal" />}
11:     >
12:       {Array.from({ length: 50 }, (_, index) => (
13:         <List.Item key={index} title={`Other ${index + 1}`} />
14:       ))}
15:     </List.Accordion>
16:     <Divider />
17:   </View>
18: );
19: 
20: export default Others;

================
File: src/features/restaurants/components/RestaurantInfoCard.js
================
 1: import React from "react";
 2: import { View } from "react-native";
 3: import { SvgXml } from "react-native-svg";
 4: 
 5: import { Spacer } from "../../../components/Spacer/Spacer";
 6: import { CustomText } from "../../../components/CustomText/CustomText";
 7: import { Favourite } from "../../../components/Favourite/Favourite";
 8: 
 9: import star from "../../../../assets/icons/star";
10: import open from "../../../../assets/icons/open";
11: 
12: import {
13:   RestaurantCard,
14:   RestaurantCardCover,
15:   Address,
16:   Info,
17:   Section,
18:   Rating,
19:   OperationStatus,
20:   Icon,
21: } from "./RestaurantInfoCard.styles";
22: 
23: export const RestaurantInfoCard = ({ restaurant = {}, elevation = 5 }) => {
24:   const {
25:     name = "Sick Eats",
26:     icon = "https://maps.gstatic.com/mapfiles/place_api/icons/v1/png_71/lodging-71.png",
27:     photos = [
28:       "https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8Zm9vZHxlbnwwfHwwfHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",
29:     ],
30:     address = "100 random sick avenue",
31:     isOpenNow = true,
32:     rating = 4,
33:     isClosedTemporarily = true,
34:     placeId,
35:   } = restaurant;
36:   const ratingArray = Array.from(new Array(Math.floor(rating)));
37:   return (
38:     <RestaurantCard elevation={elevation}>
39:       <View>
40:         <Favourite restaurant={restaurant} />
41:         <RestaurantCardCover key={name} source={{ uri: photos[0] }} />
42:       </View>
43:       <Info>
44:         <CustomText variant="label">{name}</CustomText>
45:         <Section>
46:           <Rating>
47:             {ratingArray.map((_, i) => (
48:               <SvgXml
49:                 key={`star-${placeId}-${i}`}
50:                 xml={star}
51:                 width={20}
52:                 height={20}
53:               />
54:             ))}
55:           </Rating>
56:           <OperationStatus>
57:             {isClosedTemporarily && (
58:               <CustomText variant="error">CLOSED TEMPORARILY</CustomText>
59:             )}
60:             {isOpenNow && <SvgXml xml={open} width={20} height={20} />}
61:             <Spacer position="left" size="large">
62:               <Icon source={{ uri: icon }} />
63:             </Spacer>
64:           </OperationStatus>
65:         </Section>
66:         <Address>{address}</Address>
67:       </Info>
68:     </RestaurantCard>
69:   );
70: };

================
File: src/features/restaurants/components/RestaurantInfoCard.styles.js
================
 1: import { Image, View, Text } from 'react-native';
 2: import { Card } from 'react-native-paper';
 3: import styled from 'styled-components/native';
 4: 
 5: export const RestaurantCard = styled(Card)`
 6:   background-color: ${(props) => props.theme.colors.bg.primary};
 7:   width: 95%;
 8:   align-self: center;
 9: `;
10: 
11: export const RestaurantCardCover = styled(Card.Cover)`
12:   padding: ${(props) => props.theme.space[3]};
13:   background-color: ${(props) => props.theme.colors.bg.primary};
14: `;
15: 
16: export const Address = styled(Text)`
17:   font-family: ${(props) => props.theme.fonts.body};
18:   font-size: ${(props) => props.theme.fontSizes.caption};
19: `;
20: 
21: export const Info = styled(View)`
22:   padding: ${(props) => props.theme.space[3]};
23: `;
24: 
25: export const Section = styled(View)`
26:   flex-direction: row;
27:   align-items: center;
28: `;
29: 
30: export const Rating = styled(View)`
31:   flex-direction: row;
32:   padding-top: ${(props) => props.theme.space[2]};
33:   padding-bottom: ${(props) => props.theme.space[2]};
34: `;
35: 
36: export const OperationStatus = styled(View)`
37:   flex: 1;
38:   flex-direction: row;
39:   justify-content: flex-end;
40: `;
41: 
42: export const Icon = styled(Image)`
43:   width: 15px;
44:   height: 15px;
45: `;

================
File: src/features/restaurants/components/RestaurantList.styles.js
================
 1: import { FlatList } from 'react-native';
 2: import { Button } from 'react-native-paper';
 3: import { colors } from '../../../infrastructure/theme/colors';
 4: import styled from 'styled-components/native';
 5: 
 6: export const RestaurantList = styled(FlatList).attrs({
 7:   contentContainerStyle: {
 8:     padding: 16,
 9:   },
10: })``;
11: 
12: export const OrderButton = styled(Button).attrs({
13:   color: colors.brand.primary,
14: })`
15:   padding: ${(props) => props.theme.space[2]};
16:   width: 80%;
17:   align-self: center;
18: `;

================
File: src/features/restaurants/components/RestaurantMenu.js
================
 1: import React from "react";
 2: import { View, Text } from "react-native";
 3: import { List, Divider } from "react-native-paper";
 4: 
 5: const RestaurantMenu = () => (
 6:   <View>
 7:     <Text style={{ fontSize: 24, margin: 16 }}>Menu</Text>
 8:     <List.Accordion
 9:       title="Menu"
10:       left={(props) => <List.Icon {...props} icon="bread-slice" />}
11:     >
12:       {Array.from({ length: 30 }, (_, index) => (
13:         <List.Item key={index} title={`Item ${index + 1}`} />
14:       ))}
15:     </List.Accordion>
16:     <Divider />
17:   </View>
18: );
19: 
20: export default RestaurantMenu;

================
File: src/features/restaurants/components/RestaurantTabBar.js
================
 1: import React from 'react';
 2: import styled from 'styled-components/native';
 3: 
 4: import { TabBar as OriginalTabBar } from 'react-native-tab-view';
 5: 
 6: const CustomTabBarContainer = styled(OriginalTabBar).attrs((props) => ({
 7:   indicatorStyle: {
 8:     backgroundColor: props.theme.colors.text.primary,
 9:   },
10:   labelStyle: {
11:     color: props.theme.colors.text.primary,
12:   },
13: }))`
14:   background-color: ${(props) => props.theme.colors.bg.primary};
15: `;
16: 
17: const TabBar = (props) => {
18:   const { routes, scrollToTab, setIndex } = props;
19: 
20:   return (
21:     <CustomTabBarContainer
22:       {...props}
23:       onTabPress={({ route, preventDefault }) => {
24:         preventDefault();
25:         const tabIndex = routes.findIndex(r => r.key === route.key);
26:         scrollToTab(route.key, tabIndex);
27:       }}
28:     />
29:   );
30: };
31: 
32: export default TabBar;

================
File: src/features/restaurants/components/Reviews.js
================
 1: import React from "react";
 2: import { View, Text } from "react-native";
 3: import { List, Divider } from "react-native-paper";
 4: 
 5: const Reviews = () => (
 6:   <View>
 7:     <Text style={{ fontSize: 24, margin: 16 }}>Reviews</Text>
 8:     <List.Accordion
 9:       title="Reviews"
10:       left={(props) => <List.Icon {...props} icon="star" />}
11:     >
12:       {Array.from({ length: 50 }, (_, index) => (
13:         <List.Item key={index} title={`Review ${index + 1}`} />
14:       ))}
15:     </List.Accordion>
16:     <Divider />
17:   </View>
18: );
19: 
20: export default Reviews;

================
File: src/features/restaurants/components/Search.js
================
 1: import React, { useContext, useState, useEffect } from "react";
 2: import { View } from "react-native";
 3: import { Searchbar } from "react-native-paper";
 4: import styled from "styled-components/native";
 5: 
 6: const SearchContainer = styled(View)`
 7:   padding: ${(props) => props.theme.space[3]};
 8:   background-color: ${(props) => props.theme.colors.brand.secondary};
 9: `;
10: 
11: export const Search = () => {
12:   keyword = "TestKeyword";
13:   const [searchKeyword, setSearchKeyword] = useState(keyword);
14: 
15:   useEffect(() => {
16:     setSearchKeyword(keyword);
17:   }, [keyword]);
18: 
19:   return (
20:     <SearchContainer>
21:       <Searchbar
22:         placeholder="Search"
23:         value={searchKeyword}
24:         onChangeText={(text) => setSearchKeyword(text)}
25:         style={{ backgroundColor: "#ffffff" }}
26:       />
27:     </SearchContainer>
28:   );
29: };

================
File: src/features/restaurants/components/TabNavigation.js
================
 1: import React from "react";
 2: import { TabView, SceneMap } from "react-native-tab-view";
 3: import { Animated } from "react-native";
 4: import RestaurantMenu from "./RestaurantMenu";
 5: import Reviews from "./Reviews";
 6: import Others from "./Others";
 7: import TabBar from "./RestaurantTabBar";
 8: 
 9: const renderSceneMap = {
10:   menu: RestaurantMenu,
11:   reviews: Reviews,
12:   others: Others,
13: };
14: 
15: const TabNavigation = ({
16:   index,
17:   setIndex,
18:   routes,
19:   layout,
20:   renderOpacity,
21:   scrollToTab,
22:   heights,
23: }) => {
24:   return (
25:     <Animated.View style={{ opacity: renderOpacity }}>
26:       <TabView
27:         navigationState={{ index, routes }}
28:         renderScene={SceneMap(renderSceneMap)}
29:         renderTabBar={(props) => (
30:           <TabBar
31:             {...props}
32:             routes={routes}
33:             scrollToTab={scrollToTab}
34:             setIndex={setIndex}
35:           />
36:         )}
37:         onIndexChange={setIndex}
38:         initialLayout={{ width: layout.width }}
39:       />
40:     </Animated.View>
41:   );
42: };
43: 
44: export default TabNavigation;

================
File: src/features/restaurants/hooks/useReservationHandler.js
================
 1: import { useState } from "react";
 2: import { Animated } from "react-native";
 3: 
 4: const useReservationHandler = () => {
 5:   const [isReservation, setIsReservation] = useState(false);
 6:   const [isShowReservationContent, setIsShowReservationContent] =
 7:     useState(false);
 8:   const [opacity] = useState(new Animated.Value(1));
 9: 
10:   const animateAndSwitch = (newIsReservation) => {
11:     Animated.timing(opacity, {
12:       toValue: 0,
13:       duration: 200,
14:       useNativeDriver: true,
15:     }).start(() => {
16:       setIsReservation(newIsReservation);
17:       setTimeout(() => {
18:         setIsShowReservationContent(newIsReservation);
19:         Animated.timing(opacity, {
20:           toValue: 1,
21:           duration: 200,
22:           useNativeDriver: true,
23:         }).start();
24:       }, 200);
25:     });
26:   };
27: 
28:   return {
29:     isReservation,
30:     isShowReservationContent,
31:     opacity,
32:     animateAndSwitch,
33:   };
34: };
35: 
36: export default useReservationHandler;

================
File: src/features/restaurants/hooks/useScrollHandler.js
================
 1: import { useState, useCallback } from "react";
 2: 
 3: const useScrollHandler = (routes, heights, setIndex) => {
 4:   const handleScroll = useCallback(
 5:     (event) => {
 6:       const scrollYValue = event.nativeEvent.contentOffset.y;
 7:       let accumulatedHeight = heights.restaurantInfoCard + heights.switch;
 8:       for (let i = 0; i < routes.length; i++) {
 9:         if (
10:           scrollYValue <
11:           accumulatedHeight + (heights.content[routes[i].key] || 0) / 2
12:         ) {
13:           setIndex(i);
14:           break;
15:         }
16:         accumulatedHeight += heights.content[routes[i].key] || 0;
17:       }
18:     },
19:     [routes, heights, setIndex]
20:   );
21: 
22:   return handleScroll;
23: };
24: 
25: export default useScrollHandler;

================
File: src/features/restaurants/screens/RestaurantDetailScreen.js
================
  1: import React, { useState, useRef, useEffect } from "react";
  2: import { Animated, Dimensions, View } from "react-native";
  3: import styled from "styled-components/native";
  4: import { IconButton } from "react-native-paper";
  5: 
  6: import { CustomText } from "../../../components/CustomText/CustomText";
  7: import { SafeArea } from "../../../components/SafeArea/SafeArea";
  8: import { RestaurantInfoCard } from "../components/RestaurantInfoCard";
  9: import RestaurantMenu from "../components/RestaurantMenu";
 10: import Reviews from "../components/Reviews";
 11: import Others from "../components/Others";
 12: import SwitchContainer from "../../../components/Switch/Switch";
 13: import TabNavigation from "../components/TabNavigation";
 14: import useScrollHandler from "../hooks/useScrollHandler";
 15: import useReservationHandler from "../hooks/useReservationHandler";
 16: import WebApp from "../../../components/WebApp/WebApp";
 17: import ErrorBoundary from "../../../components/ErrorBoundary/ErrorBoundary";
 18: 
 19: const Spacing = styled.View`
 20:   padding-bottom: ${(props) => props.theme.space[2]};
 21: `;
 22: 
 23: export const Header = styled.View`
 24:   flex-direction: row;
 25:   align-items: center;
 26:   justify-content: center;
 27:   padding: ${(props) => props.theme.space[2]};
 28:   position: relative;
 29:   background-color: ${(props) => props.theme.colors.bg.primary};
 30: `;
 31: 
 32: export const CloseButtonWrapper = styled.View`
 33:   position: absolute;
 34:   left: ${(props) => props.theme.space[2]};
 35: `;
 36: 
 37: const RestaurantDetailScreen = ({ route, navigation }) => {
 38:   const { restaurant, openReservationView } = route.params;
 39:   const layout = useRef(Dimensions.get("window")).current;
 40:   const [index, setIndex] = useState(0);
 41:   const [routes] = useState([
 42:     { key: "menu", title: "Menu" },
 43:     { key: "reviews", title: "Reviews" },
 44:     { key: "others", title: "Others" },
 45:   ]);
 46: 
 47:   const scrollY = useRef(new Animated.Value(0)).current;
 48:   const scrollViewRef = useRef(null);
 49: 
 50:   const [heights, setHeights] = useState({
 51:     restaurantInfoCard: 0,
 52:     switch: 0,
 53:     content: {},
 54:   });
 55: 
 56:   useEffect(() => {
 57:     if (openReservationView) {
 58:       animateAndSwitch(true);
 59:     }
 60:   }, [openReservationView]);
 61: 
 62:   const { isReservation, isShowReservationContent, opacity, animateAndSwitch } =
 63:     useReservationHandler();
 64: 
 65:   const [scrollEnabled, setScrollEnabled] = useState(true);
 66: 
 67:   const handleScroll = useScrollHandler(routes, heights, setIndex);
 68: 
 69:   const scrollToTab = (tabKey, newIndex) => {
 70:     let yPosition = heights.restaurantInfoCard + heights.switch;
 71:     for (let i = 0; i < routes.length; i++) {
 72:       if (routes[i].key === tabKey) break;
 73:       yPosition += heights.content[routes[i].key] || 0;
 74:     }
 75:     scrollViewRef.current.scrollTo({ y: yPosition, animated: true });
 76:     setIndex(newIndex);
 77:   };
 78: 
 79: 
 80:   const handleInteractionStart = () => {
 81:     setScrollEnabled(false);
 82:   };
 83: 
 84: 
 85:   const handleInteractionEnd = () => {
 86:     setScrollEnabled(true);
 87:   };
 88: 
 89:   return (
 90:     <SafeArea>
 91:       <Header>
 92:         {}
 93:         <CloseButtonWrapper>
 94:           <IconButton
 95:             icon="arrow-left"
 96:             size={24}
 97:             onPress={() => navigation.goBack()}
 98:             accessibilityLabel="Close"
 99:           />
100:         </CloseButtonWrapper>
101: 
102:         {}
103:         <CustomText variant="title">RestaurantDetail</CustomText>
104:       </Header>
105:       <View style={{ flex: 1 }}>
106:         <Animated.ScrollView
107:           scrollEnabled={scrollEnabled}
108:           ref={scrollViewRef}
109:           scrollEventThrottle={16}
110:           onScroll={Animated.event(
111:             [{ nativeEvent: { contentOffset: { y: scrollY } } }],
112:             { listener: handleScroll, useNativeDriver: false }
113:           )}
114:           stickyHeaderIndices={isReservation ? [] : [2]}
115:         >
116:           <Spacing
117:             onLayout={(event) =>
118:               setHeights({
119:                 ...heights,
120:                 restaurantInfoCard: event.nativeEvent.layout.height,
121:               })
122:             }
123:           >
124:             <RestaurantInfoCard restaurant={restaurant} elevation={0} />
125:           </Spacing>
126: 
127:           <View
128:             onLayout={(event) =>
129:               setHeights({
130:                 ...heights,
131:                 switch: event.nativeEvent.layout.height,
132:               })
133:             }
134:           >
135:             <SwitchContainer
136:               isOn={isReservation}
137:               setIsOn={(newValue) => animateAndSwitch(newValue)}
138:               leftLabel="General"
139:               rightLabel="Reservation"
140:               variant="default"
141:             />
142:           </View>
143: 
144:           {!isShowReservationContent && !isReservation && (
145:             <TabNavigation
146:               index={index}
147:               setIndex={setIndex}
148:               routes={routes}
149:               layout={layout}
150:               renderOpacity={opacity}
151:               scrollToTab={scrollToTab}
152:               heights={heights}
153:             />
154:           )}
155: 
156:           {!isShowReservationContent &&
157:             !isReservation &&
158:             routes.map((route) => (
159:               <Animated.View key={route.key} style={{ opacity }}>
160:                 <View
161:                   onLayout={(event) =>
162:                     setHeights({
163:                       ...heights,
164:                       content: {
165:                         ...heights.content,
166:                         [route.key]: event.nativeEvent.layout.height,
167:                       },
168:                     })
169:                   }
170:                 >
171:                   {React.createElement(
172:                     route.key === "menu"
173:                       ? RestaurantMenu
174:                       : route.key === "reviews"
175:                       ? Reviews
176:                       : Others
177:                   )}
178:                 </View>
179:               </Animated.View>
180:             ))}
181: 
182:           {isShowReservationContent && isReservation && (
183:             <Animated.View style={{ opacity, flex: 1 }}>
184:               <ErrorBoundary>
185:                 <WebApp
186:                   onInteractionStart={handleInteractionStart}
187:                   onInteractionEnd={handleInteractionEnd}
188:                 />
189:               </ErrorBoundary>
190:             </Animated.View>
191:           )}
192:         </Animated.ScrollView>
193:       </View>
194:     </SafeArea>
195:   );
196: };
197: 
198: export { RestaurantDetailScreen };

================
File: src/features/restaurants/screens/RestaurantsScreen.js
================
 1: import React, { useContext, useState } from "react";
 2: import { View, TouchableOpacity } from "react-native";
 3: import { ActivityIndicator, Colors } from "react-native-paper";
 4: import styled from "styled-components/native";
 5: import { Text } from "react-native";
 6: 
 7: import { restaurants } from "../../../data/mockData";
 8: import { SafeArea } from "../../../components/SafeArea/SafeArea";
 9: import { FadeInView } from "../../../components/FadeInView/FadeInView";
10: import { Spacer } from "../../../components/Spacer/Spacer";
11: import { Search } from "../components/Search";
12: import { RestaurantList } from "../components/RestaurantList.styles";
13: import { RestaurantInfoCard } from "../components/RestaurantInfoCard";
14: 
15: const LoadingContainer = styled(View)`
16:   position: absolute;
17:   top: 50%;
18:   left: 50%;
19: `;
20: 
21: const Loading = styled(ActivityIndicator)`
22:   margin-left: -25px;
23: `;
24: 
25: export const RestaurantsScreen = ({ navigation }) => {
26:   const [isToggled, setIsToggled] = useState(false);
27: 
28:   return (
29:     <SafeArea>
30:       <Search
31:         isFavouritesToggled={isToggled}
32:         onFavouritesToggle={() => setIsToggled(!isToggled)}
33:       />
34:       <RestaurantList
35:         data={restaurants}
36:         renderItem={({ item }) => {
37:           return (
38:             <TouchableOpacity
39:               onPress={() =>
40:                 navigation.navigate("RestaurantDetailScreen", {
41:                   restaurant: item,
42:                 })
43:               }
44:             >
45:               <Spacer position="bottom" size="large">
46:                 <FadeInView>
47:                   <RestaurantInfoCard restaurant={item} />
48:                 </FadeInView>
49:               </Spacer>
50:             </TouchableOpacity>
51:           );
52:         }}
53:         keyExtractor={(item) => item.name}
54:       />
55:     </SafeArea>
56:   );
57: };

================
File: src/features/settings/screens/AccountSettingsScreen.js
================
 1: import React, { useState } from "react";
 2: import { IconButton, Avatar } from "react-native-paper";
 3: 
 4: 
 5: import { SafeArea } from "../../../components/SafeArea/SafeArea";
 6: import { Separator } from "../../../components/Separator/Separator";
 7: import { CustomText } from "../../../components/CustomText/CustomText";
 8: 
 9: 
10: import { users } from "../../../data/mockData";
11: 
12: 
13: import {
14:   SettingsContainer,
15:   Header,
16:   CloseButtonWrapper,
17:   SectionTitle,
18:   FrameLine,
19:   ProfileContainer,
20:   ItemContainer,
21:   ItemTextContainer,
22:   BoldText,
23:   InfoText,
24: } from "./AccountSettingsScreen.styles";
25: 
26: export const AccountSettingsScreen = ({ navigation }) => {
27:   const user = users[0];
28: 
29:   return (
30:     <SafeArea>
31:       <SettingsContainer>
32:         {}
33:         <Header>
34:           {}
35:           <CloseButtonWrapper>
36:             <IconButton
37:               icon="close"
38:               size={24}
39:               onPress={() => navigation.goBack()}
40:             />
41:           </CloseButtonWrapper>
42: 
43:           {}
44:           <CustomText variant="title">SeatMaster Account</CustomText>
45:         </Header>
46: 
47:         {}
48:         <FrameLine>
49:           <SectionTitle variant="h4">Account Info</SectionTitle>
50: 
51:           {}
52:           <ProfileContainer>
53:             <Avatar.Image size={80} source={user.profileImage} />
54:           </ProfileContainer>
55: 
56:           {}
57:           <SectionTitle variant="h5">Basic Info</SectionTitle>
58: 
59:           {}
60:           <ItemContainer>
61:             <ItemTextContainer>
62:               <BoldText variant="body">Name</BoldText>
63:               <InfoText variant="body">{user.username}</InfoText>
64:             </ItemTextContainer>
65:             <IconButton icon="chevron-right" size={24} />
66:           </ItemContainer>
67:           <Separator type="full" />
68: 
69:           {}
70:           <ItemContainer>
71:             <ItemTextContainer>
72:               <BoldText variant="body">Phone Number</BoldText>
73:               <InfoText variant="body">{user.phoneNumber}</InfoText>
74:             </ItemTextContainer>
75:             <IconButton icon="chevron-right" size={24} />
76:           </ItemContainer>
77:           <Separator type="full" />
78: 
79:           {}
80:           <ItemContainer>
81:             <ItemTextContainer>
82:               <BoldText variant="body">Email</BoldText>
83:               <InfoText variant="body">{user.email}</InfoText>
84:             </ItemTextContainer>
85:             <IconButton icon="chevron-right" size={24} />
86:           </ItemContainer>
87:           <Separator type="full" />
88:         </FrameLine>
89:       </SettingsContainer>
90:     </SafeArea>
91:   );
92: };

================
File: src/features/settings/screens/AccountSettingsScreen.styles.js
================
 1: import styled from "styled-components/native";
 2: import { ScrollView, View } from "react-native";
 3: import { Avatar } from "react-native-paper";
 4: import { CustomText } from "../../../components/CustomText/CustomText";
 5: 
 6: export const SettingsContainer = styled(ScrollView)`
 7:   background-color: ${(props) => props.theme.colors.bg.primary};
 8: `;
 9: 
10: export const Header = styled.View`
11:   flex-direction: row;
12:   align-items: center;
13:   justify-content: center;
14:   padding: ${(props) => props.theme.space[2]};
15:   position: relative;
16: `;
17: 
18: export const CloseButtonWrapper = styled.View`
19:   position: absolute;
20:   left: ${(props) => props.theme.space[2]};
21: `;
22: 
23: export const SectionTitle = styled(CustomText)`
24:   padding: ${(props) => props.theme.space[3]} ${(props) => props.theme.space[3]};
25:   font-weight: ${(props) => props.theme.fontWeights.bold};
26: `;
27: 
28: export const FrameLine = styled.View`
29:   border-width: 1px;
30:   border-color: rgba(0, 0, 0, 0.1);
31:   margin: ${(props) => props.theme.space[1]};
32:   border-radius: 8px;
33: `;
34: 
35: export const ProfileContainer = styled.View`
36:   flex-direction: row;
37:   align-items: center;
38:   padding: ${(props) => props.theme.space[3]};
39: `;
40: 
41: export const ItemContainer = styled.View`
42:   flex-direction: row;
43:   justify-content: space-between;
44:   align-items: center;
45:   padding-vertical: ${(props) => props.theme.space[0]};
46:   padding-horizontal: ${(props) => props.theme.space[3]};
47: `;
48: 
49: export const ItemTextContainer = styled.View`
50:   flex-direction: column;
51: `;
52: 
53: export const BoldText = styled(CustomText)`
54:   font-weight: ${(props) => props.theme.fontWeights.bold};
55: `;
56: 
57: export const InfoText = styled(CustomText)`
58:   color: ${(props) => props.theme.colors.text.secondary};
59: `;

================
File: src/features/settings/screens/SettingsScreen.js
================
  1: import React from "react";
  2: import { TouchableOpacity } from "react-native";
  3: import { List, Avatar } from "react-native-paper";
  4: 
  5: import { useAuthentication } from "../../../services/AuthenticationContext";
  6: 
  7: 
  8: import { SafeArea } from "../../../components/SafeArea/SafeArea";
  9: import { Spacer } from "../../../components/Spacer/Spacer";
 10: import { CustomText } from "../../../components/CustomText/CustomText";
 11: 
 12: 
 13: import { users } from "../../../data/mockData";
 14: 
 15: 
 16: import {
 17:   SettingsContainer,
 18:   ProfileContainer,
 19:   UserInfoContainer,
 20:   AvatarContainer,
 21:   SettingsItem,
 22:   EmailText,
 23: } from "./SettingsScreen.styles";
 24: import { use } from "react";
 25: 
 26: export const SettingsScreen = ({ navigation }) => {
 27:   const { onLogout } = useAuthentication();
 28:   const user = users[0];
 29: 
 30:   return (
 31:     <SafeArea>
 32:       <SettingsContainer>
 33:         <ProfileContainer>
 34:           <UserInfoContainer>
 35:             {}
 36:             <CustomText variant="h3">{user.username}</CustomText>
 37:             <Spacer position="top" size="small" />
 38:             {}
 39:             <EmailText variant="caption">{user.email}</EmailText>
 40:           </UserInfoContainer>
 41:           <AvatarContainer>
 42:             {}
 43:             <TouchableOpacity onPress={() => {}}>
 44:               <Avatar.Image
 45:                 size={100}
 46:                 source={user.profileImage}
 47:                 backgroundColor={(props) => props.theme.colors.brand.primary}
 48:               />
 49:             </TouchableOpacity>
 50:           </AvatarContainer>
 51:         </ProfileContainer>
 52: 
 53:         {}
 54:         <List.Section>
 55:           <SettingsItem
 56:             title="Account Settings"
 57:             left={(props) => (
 58:               <List.Icon
 59:                 {...props}
 60:                 color={(props) => props.theme.colors.text.primary}
 61:                 icon="account-cog"
 62:               />
 63:             )}
 64:             onPress={() => navigation.navigate("AccountSettings")}
 65:           />
 66:           <SettingsItem
 67:             title="Reservations"
 68:             left={(props) => (
 69:               <List.Icon
 70:                 {...props}
 71:                 color={(props) => props.theme.colors.text.primary}
 72:                 icon="book"
 73:               />
 74:             )}
 75:             onPress={() => navigation.navigate("Reservations")}
 76:           />
 77:           <SettingsItem
 78:             title="Payment Methods"
 79:             left={(props) => (
 80:               <List.Icon
 81:                 {...props}
 82:                 color={(props) => props.theme.colors.text.primary}
 83:                 icon="credit-card"
 84:               />
 85:             )}
 86:             onPress={() => navigation.navigate("PaymentMethods")}
 87:           />
 88:           <SettingsItem
 89:             title="Help"
 90:             left={(props) => (
 91:               <List.Icon
 92:                 {...props}
 93:                 color={(props) => props.theme.colors.text.primary}
 94:                 icon="help-circle"
 95:               />
 96:             )}
 97:           />
 98:           <SettingsItem
 99:             title="Logout"
100:             left={(props) => (
101:               <List.Icon
102:                 {...props}
103:                 color={(props) => props.theme.colors.text.primary}
104:                 icon="logout"
105:               />
106:             )}
107: 
108:             onPress={() => {
109:               onLogout();
110:             }}
111:           />
112:         </List.Section>
113:       </SettingsContainer>
114:     </SafeArea>
115:   );
116: };

================
File: src/features/settings/screens/SettingsScreen.styles.js
================
 1: import styled from "styled-components/native";
 2: import { ScrollView, View, TouchableOpacity } from "react-native";
 3: import { List } from "react-native-paper";
 4: import { CustomText } from "../../../components/CustomText/CustomText";
 5: 
 6: export const SafeArea = styled.View`
 7:   flex: 1;
 8:   background-color: ${(props) => props.theme.colors.bg.primary};
 9: `;
10: 
11: export const SettingsContainer = styled(ScrollView)`
12:   background-color: ${(props) => props.theme.colors.bg.primary};
13: `;
14: 
15: export const ProfileContainer = styled(View)`
16:   flex-direction: row;
17:   justify-content: space-between;
18:   align-items: center;
19:   padding: ${(props) => props.theme.space[3]};
20: `;
21: 
22: export const UserInfoContainer = styled(View)`
23:   flex: 1;
24:   margin-right: ${(props) => props.theme.space[2]};
25:   align-items: flex-start;
26: `;
27: 
28: export const AvatarContainer = styled(View)`
29:   align-items: center;
30:   justify-content: center;
31: `;
32: 
33: export const SettingsItem = styled(List.Item)`
34:   padding: ${(props) => props.theme.space[3]};
35: `;
36: 
37: export const EmailText = styled(CustomText)`
38:   margin-left: ${(props) => props.theme.space[1]};
39: `;

================
File: src/infrastructure/navigation/AppNavigator.js
================
  1: import React from "react";
  2: import { createBottomTabNavigator } from "@react-navigation/bottom-tabs";
  3: import { createStackNavigator } from "@react-navigation/stack";
  4: import { Ionicons } from "@expo/vector-icons";
  5: import { NavigationContainer } from "@react-navigation/native";
  6: 
  7: import { useAuthentication } from "../../services/AuthenticationContext";
  8: import { globalScreenOptions } from "../options/GlobalScreenOptions";
  9: import { RestaurantsNavigator } from "./RestaurantsNavigator";
 10: import { CheckoutNavigator } from "./CheckoutNavigator";
 11: import { ReservationsNavigator } from "./ReservationsNavigator";
 12: import { MerchantNavigator } from "./MerchantNavigator";
 13: import { SettingsNavigator } from "./SettingsNavigator";
 14: import { LoginScreen } from "../../features/auth/screens/LoginScreen";
 15: import { RestaurantDetailScreen } from "../../features/restaurants/screens/RestaurantDetailScreen";
 16: import { AccountSettingsScreen } from "../../features/settings/screens/AccountSettingsScreen";
 17: 
 18: const TAB_ICON = {
 19:   Restaurants: "restaurant",
 20:   Checkout: "cart",
 21:   Reservations: "book",
 22:   Settings: "settings",
 23: };
 24: 
 25: const Tab = createBottomTabNavigator();
 26: const Stack = createStackNavigator();
 27: 
 28: const createTabScreenOptions = ({ route }) => {
 29:   const iconName = TAB_ICON[route.name];
 30: 
 31:   return {
 32:     tabBarIcon: ({ size, color }) => (
 33:       <Ionicons name={iconName} size={size} color={color} />
 34:     ),
 35:   };
 36: };
 37: 
 38: 
 39: const HomeTabs = () => (
 40:   <Tab.Navigator screenOptions={createTabScreenOptions}>
 41:     <Tab.Screen
 42:       name="Restaurants"
 43:       component={RestaurantsNavigator}
 44:       options={{ headerShown: false }}
 45:     />
 46:     <Tab.Screen
 47:       name="Checkout"
 48:       component={CheckoutNavigator}
 49:       options={{ headerShown: false }}
 50:     />
 51:     <Tab.Screen
 52:       name="Reservations"
 53:       component={ReservationsNavigator}
 54:       options={{ header: () => null }}
 55:     />
 56:     <Tab.Screen
 57:       name="Settings"
 58:       component={SettingsNavigator}
 59:       options={{ headerShown: false }}
 60:     />
 61:   </Tab.Navigator>
 62: );
 63: 
 64: 
 65: export const AppNavigator = () => {
 66:   const { user } = useAuthentication();
 67:   const role = user?.role;
 68:   return (
 69:     <Stack.Navigator
 70:       screenOptions={{
 71:         headerShown: false,
 72:       }}
 73:     >
 74:       {role === "customer" ? (
 75:         <>
 76:           {}
 77:           <Stack.Screen name="Home" component={HomeTabs} />
 78:           {}
 79: 
 80:           <Stack.Screen
 81:             name="RestaurantDetailScreen"
 82:             component={RestaurantDetailScreen}
 83:             options={({ route }) => ({
 84:               ...globalScreenOptions.restaurantDetail,
 85:               presentation:
 86:                 route.params?.presentationStyle === "modal" ? "modal" : "card",
 87:             })}
 88:           />
 89:           <Stack.Screen
 90:             name="AccountSettings"
 91:             component={AccountSettingsScreen}
 92:             options={globalScreenOptions.common}
 93:           />
 94:         </>
 95:       ) : (
 96:         <>
 97:           <Stack.Screen name="Merchant" component={MerchantNavigator} />
 98:         </>
 99:       )}
100:     </Stack.Navigator>
101:   );
102: };

================
File: src/infrastructure/navigation/AuthNavigator.js
================
 1: import React from "react";
 2: import { createStackNavigator } from "@react-navigation/stack";
 3: import { LoginScreen } from "../../features/auth/screens/LoginScreen";
 4: import { globalScreenOptions } from "../options/GlobalScreenOptions";
 5: 
 6: const Stack = createStackNavigator();
 7: 
 8: export const AuthNavigator = () => {
 9:   return (
10:     <Stack.Navigator screenOptions={globalScreenOptions.nonHeader}>
11:       <Stack.Screen name="Login" component={LoginScreen} />
12:       {}
13:     </Stack.Navigator>
14:   );
15: };

================
File: src/infrastructure/navigation/CheckoutNavigator.js
================
 1: import React from "react";
 2: import {
 3:   ScrollView,
 4:   TextInput,
 5:   Text,
 6:   TouchableOpacity,
 7:   View,
 8:   StyleSheet,
 9: } from "react-native";
10: import * as FileSystem from "expo-file-system";
11: 
12: import { createStackNavigator } from "@react-navigation/stack";
13: import WebApp from "../../components/WebApp/WebApp";
14: 
15: const CheckoutStack = createStackNavigator();
16: 
17: export const CheckoutNavigator = () => {
18:   return (
19:     <View style={{ flex: 1 }}>
20:       {}
21:       <Text>Checkout Navigator</Text>
22:     </View>
23:   );
24: };

================
File: src/infrastructure/navigation/index.js
================
 1: import { NavigationContainer } from "@react-navigation/native";
 2: import { AppNavigator } from "./AppNavigator";
 3: import { GlobalWrapper } from "../../components/GlobalWrapper/GlobalWrapper";
 4: import { AuthNavigator } from "./AuthNavigator";
 5: import { useAuthentication } from "../../services/AuthenticationContext";
 6: 
 7: export const Navigation = () => {
 8:   const { isAuthenticated } = useAuthentication();
 9: 
10:   return (
11:     <GlobalWrapper>
12:       <NavigationContainer>
13:         {isAuthenticated ? <AppNavigator /> : <AuthNavigator />}
14:       </NavigationContainer>
15:     </GlobalWrapper>
16:   );
17: };

================
File: src/infrastructure/navigation/MerchantNavigator.js
================
 1: import React from "react";
 2: import { createBottomTabNavigator } from "@react-navigation/bottom-tabs";
 3: import { MerchantHomeScreen } from "../../features/merchant/screens/MerchantHomeScreen";
 4: import { MerchantSettingsScreen } from "../../features/merchant/screens/MerchantSettingsScreen";
 5: import { Ionicons } from "@expo/vector-icons";
 6: import { useTheme } from "styled-components/native";
 7: 
 8: const Tab = createBottomTabNavigator();
 9: 
10: export const MerchantNavigator = () => {
11:   const theme = useTheme();
12:   return (
13:     <Tab.Navigator
14:       screenOptions={({ route }) => ({
15:         headerShown: false,
16:         tabBarIcon: ({ color, size }) => {
17:           let iconName = route.name === "Home" ? "home" : "settings";
18:           return <Ionicons name={iconName} size={size} color={color} />;
19:         },
20:         tabBarActiveTintColor: theme.colors.text.primary,
21:         tabBarInactiveTintColor: theme.colors.text.secondary,
22:         tabBarStyle: {
23:           backgroundColor: theme.colors.bg.primary,
24:         },
25:       })}
26:     >
27:       <Tab.Screen name="Home" component={MerchantHomeScreen} />
28:       <Tab.Screen name="Settings" component={MerchantSettingsScreen} />
29:     </Tab.Navigator>
30:   );
31: };

================
File: src/infrastructure/navigation/ReservationsNavigator.js
================
 1: import React from "react";
 2: import { createStackNavigator } from "@react-navigation/stack";
 3: import { useTheme } from "styled-components/native";
 4: 
 5: import { ReservationsScreen } from "../../features/reservations/screens/ReservationsScreen";
 6: 
 7: const ReservationStack = createStackNavigator();
 8: 
 9: export const ReservationsNavigator = () => {
10:   const theme = useTheme();
11:   const getNumericValue = (value) => parseInt(value.replace("px", ""), 10);
12: 
13:   return (
14:     <ReservationStack.Navigator
15:       screenOptions={{
16:         headerShown: true,
17:         headerTitleAlign: "left",
18:         headerTintColor: theme.colors.text.primary,
19:         headerStyle: {
20:           backgroundColor: theme.colors.bg.primary,
21:           shadowColor: "transparent",
22:           elevation: 0,
23:         },
24:         headerTitleStyle: {
25:           fontSize: getNumericValue(theme.fontSizes.h4),
26:           fontFamily: theme.fonts.heading,
27:           fontWeight: theme.fontWeights.regular,
28:           lineHeight: getNumericValue(theme.fontSizes.h2),
29:           paddingLeft: getNumericValue(theme.space[2]),
30:         },
31:       }}
32:     >
33:       <ReservationStack.Screen
34:         name="ReservationsScreen"
35:         component={ReservationsScreen}
36:         options={{
37:           headerTitle: "Reservations",
38:         }}
39:       />
40:     </ReservationStack.Navigator>
41:   );
42: };

================
File: src/infrastructure/navigation/RestaurantsNavigator.js
================
 1: import React from "react";
 2: import { ScrollView, TextInput, Text, TouchableOpacity } from "react-native";
 3: import {
 4:   createStackNavigator,
 5:   TransitionPresets,
 6: } from "@react-navigation/stack";
 7: 
 8: import { RestaurantsScreen } from "../../features/restaurants/screens/RestaurantsScreen";
 9: import { RestaurantDetailScreen } from "../../features/restaurants/screens/RestaurantDetailScreen";
10: 
11: const RestaurantStack = createStackNavigator();
12: 
13: export const RestaurantsNavigator = () => {
14:   return (
15: 
16:     <RestaurantStack.Navigator
17:       screenOptions={{
18:         headerShown: false,
19:         ...TransitionPresets.ModalPresentationIOS,
20:       }}
21:     >
22:       <RestaurantStack.Screen
23:         name="RestaurantsScreen"
24:         component={RestaurantsScreen}
25:         options={{ headerShown: false }}
26:       />
27:     </RestaurantStack.Navigator>
28:   );
29: };

================
File: src/infrastructure/navigation/SettingsNavigator.js
================
 1: import React from "react";
 2: import {
 3:   createStackNavigator,
 4:   CardStyleInterpolators,
 5: } from "@react-navigation/stack";
 6: 
 7: import { SettingsScreen } from "../../features/settings/screens/SettingsScreen";
 8: 
 9: const SettingsStack = createStackNavigator();
10: 
11: export const SettingsNavigator = () => {
12:   return (
13:     <SettingsStack.Navigator
14:       screenOptions={{
15:         headerShown: false,
16:         cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS,
17:       }}
18:     >
19:       <SettingsStack.Screen name="SettingsScreen" component={SettingsScreen} />
20:     </SettingsStack.Navigator>
21:   );
22: };

================
File: src/infrastructure/options/GlobalScreenOptions.js
================
 1: import { Platform } from "react-native";
 2: import { colors } from "../../infrastructure/theme/colors";
 3: import { TransitionPresets } from "@react-navigation/stack";
 4: 
 5: const commonHeaderOptions = {
 6:   headerStyle: {
 7:     height: Platform.select({ ios: 56, android: 66 }),
 8:     backgroundColor: colors.bg.primary,
 9:   },
10:   headerTitleStyle: {
11:     fontWeight: "bold",
12:     fontSize: 20,
13:     color: colors.text.primary,
14:     textAlign: "center",
15:   },
16:   headerBackTitleVisible: false,
17:   headerTitleAlign: "center",
18:   headerLeftContainerStyle: {
19:     marginTop: Platform.select({ ios: -45, android: -41 }),
20:   },
21:   headerTitleContainerStyle: {
22:     marginTop: Platform.select({ ios: -50, android: -45 }),
23:   },
24: };
25: 
26: 
27: export const globalScreenOptions = {
28:   common: commonHeaderOptions,
29:   nonHeader: {
30:     ...commonHeaderOptions,
31:     headerShown: false,
32:   },
33:   restaurantDetail: {
34:     headerShown: false,
35: 
36: 
37: 
38:   },
39: };

================
File: src/infrastructure/theme/colors.js
================
 1: export const colors = {
 2:   brand: {
 3:     primary: "#FFFFFF",
 4:     secondary: "#757575",
 5:     muted: "#C6DAF7",
 6:   },
 7:   ui: {
 8:     primary: "#262626",
 9:     secondary: "#757575",
10:     tertiary: "#F1F1F1",
11:     quaternary: "#FFFFFF",
12:     disabled: "#DEDEDE",
13:     error: "#D0421B",
14:     success: "#138000",
15:   },
16:   bg: {
17:     primary: "#FFFFFF",
18:     secondary: "#F1F1F1",
19:   },
20:   text: {
21:     primary: "#262626",
22:     secondary: "#757575",
23:     disabled: "#9C9C9C",
24:     inverse: "#FFFFFF",
25:     error: "#D0421B",
26:     success: "#138000",
27:   },
28: };

================
File: src/infrastructure/theme/fonts.js
================
 1: export const fonts = {
 2:   body: "Oswald_400Regular",
 3:   heading: "Lato_400Regular",
 4:   monospace: "Oswald_400Regular",
 5: };
 6: 
 7: export const fontWeights = {
 8:   regular: 400,
 9:   medium: 500,
10:   bold: 700,
11: };
12: 
13: export const fontSizes = {
14:   caption: "12px",
15:   button: "14px",
16:   body: "16px",
17:   title: "20px",
18:   h5: "24px",
19:   h4: "34px",
20:   h3: "45px",
21:   h2: "56px",
22:   h1: "112px",
23: };

================
File: src/infrastructure/theme/index.js
================
 1: import { colors } from './colors';
 2: import { sizes } from './sizes';
 3: import { space, lineHeights } from './spacing';
 4: import { fonts, fontWeights, fontSizes } from './fonts';
 5: 
 6: export const theme = {
 7:   colors,
 8:   sizes,
 9:   space,
10:   lineHeights,
11:   fonts,
12:   fontSizes,
13:   fontWeights,
14: };

================
File: src/infrastructure/theme/sizes.js
================
1: export const sizes = ['8px', '16px', '32px', '64px', '128px'];

================
File: src/infrastructure/theme/spacing.js
================
1: export const lineHeights = {
2:     title: '28px',
3:     copy: '20px',
4:   };
5: 
6:   export const space = ['0px', '4px', '8px', '16px', '32px', '64px'];

================
File: src/services/AuthenticationContext.js
================
 1: import React, { useState, createContext, useContext } from "react";
 2: 
 3: export const AuthenticationContext = createContext();
 4: 
 5: export const AuthenticationContextProvider = ({ children }) => {
 6:   const [user, setUser] = useState(null);
 7:   const [isLoading, setIsLoading] = useState(false);
 8:   const [error, setError] = useState(null);
 9: 
10: 
11:   const onLogin = async (username, password, role) => {
12:     setIsLoading(true);
13:     setError(null);
14: 
15: 
16:     setTimeout(() => {
17: 
18:       if (username === "+1123" && password === "123123") {
19:         setUser({ username, role });
20:       } else {
21:         setError("Invalid credentials");
22:       }
23:       setIsLoading(false);
24:     }, 1000);
25:   };
26: 
27: 
28:   const onRegister = async (username, password, repeatedPassword, role) => {
29:     setIsLoading(true);
30:     setError(null);
31: 
32:     if (password !== repeatedPassword) {
33:       setError("Passwords do not match");
34:       setIsLoading(false);
35:       return;
36:     }
37: 
38: 
39:     setTimeout(() => {
40: 
41:       setUser({ username, role });
42:       setIsLoading(false);
43:     }, 1000);
44:   };
45: 
46:   const onLogout = () => {
47:     setUser(null);
48:   };
49: 
50:   return (
51:     <AuthenticationContext.Provider
52:       value={{
53:         user,
54:         isAuthenticated: !!user,
55:         isLoading,
56:         error,
57:         onLogin,
58:         onRegister,
59:         onLogout,
60:       }}
61:     >
62:       {children}
63:     </AuthenticationContext.Provider>
64:   );
65: };
66: 
67: 
68: export const useAuthentication = () => useContext(AuthenticationContext);

================
File: .cursorignore
================
1: # Add directories or file patterns to ignore during indexing (e.g. foo/ or *.csv)
2: assets/
3: android/
4: node_modules/

================
File: .gitignore
================
 1: # Learn more https://docs.github.com/en/get-started/getting-started-with-git/ignoring-files
 2: 
 3: .vscode
 4: 
 5: # dependencies
 6: node_modules/
 7: 
 8: # Expo
 9: .expo/
10: dist/
11: web-build/
12: ios/
13: android/
14: 
15: # Native
16: *.orig.*
17: *.jks
18: *.p8
19: *.p12
20: *.key
21: *.mobileprovision
22: 
23: # Metro
24: .metro-health-check*
25: 
26: # debug
27: npm-debug.*
28: yarn-debug.*
29: yarn-error.*
30: 
31: # macOS
32: .DS_Store
33: *.pem
34: 
35: # local env files
36: .env*.local
37: 
38: # typescript
39: *.tsbuildinfo
40: 
41: # @generated expo-cli sync-2b81b286409207a5da26e14c78851eb30d8ccbdb
42: # The following patterns were generated by expo-cli
43: 
44: expo-env.d.ts
45: # @end expo-cli

================
File: App.js
================
 1: import { theme } from "./src/infrastructure/theme";
 2: import { ThemeProvider } from "styled-components/native";
 3: import { AuthenticationContextProvider } from "./src/services/AuthenticationContext";
 4: import { Navigation } from "./src/infrastructure/navigation";
 5: import { StatusBar as ExpoStatusBar } from "expo-status-bar";
 6: import Constants from "expo-constants";
 7: 
 8: export default function App() {
 9:   return (
10:     <>
11:       <AuthenticationContextProvider>
12:         <ThemeProvider theme={theme}>
13:           <Navigation />
14:         </ThemeProvider>
15:       </AuthenticationContextProvider>
16:       <ExpoStatusBar style="auto" />
17:     </>
18:   );
19: }

================
File: app.json
================
 1: {
 2:   "expo": {
 3:     "name": "seat-master-js",
 4:     "slug": "seat-master-js",
 5:     "version": "1.0.0",
 6:     "assetBundlePatterns": [
 7:       "**/*"
 8:     ],
 9:     "orientation": "portrait",
10:     "icon": "./assets/images/icon.png",
11:     "scheme": "myapp",
12:     "userInterfaceStyle": "automatic",
13:     "splash": {
14:       "image": "./assets/images/splash.png",
15:       "resizeMode": "contain",
16:       "backgroundColor": "#ffffff"
17:     },
18:     "ios": {
19:       "supportsTablet": true,
20:       "bundleIdentifier": "com.vickerszhu.seatmasterjs"
21:     },
22:     "android": {
23:       "adaptiveIcon": {
24:         "foregroundImage": "./assets/images/adaptive-icon.png",
25:         "backgroundColor": "#ffffff"
26:       },
27:       "package": "com.vickerszhu.seatmasterjs"
28:     },
29:     "web": {
30:       "bundler": "metro",
31:       "output": "static",
32:       "favicon": "./assets/images/favicon.png"
33:     },
34:     "plugins": [
35:       "expo-router"
36:     ],
37:     "experiments": {
38:       "typedRoutes": true
39:     },
40:     "extra": {
41:       "router": {
42:         "origin": false
43:       },
44:       "eas": {
45:         "projectId": "c6d8ffc4-9bc2-4f22-a564-ff0301c850a4"
46:       }
47:     }
48:   }
49: }

================
File: babel.config.js
================
1: module.exports = function (api) {
2:   api.cache(true);
3:   return {
4:     presets: ['babel-preset-expo']
5:   };
6: };

================
File: eas.json
================
 1: {
 2:   "build": {
 3:     "development": {
 4:       "developmentClient": true,
 5:       "distribution": "internal"
 6:     },
 7:     "preview": {
 8:       "distribution": "internal"
 9:     },
10:     "production": {}
11:   }
12: }

================
File: metro.config.js
================
1: const { getDefaultConfig } = require('expo/metro-config');
2: 
3: const defaultConfig = getDefaultConfig(__dirname);
4: 
5: defaultConfig.resolver.assetExts.push('glb', 'gltf');
6: 
7: module.exports = defaultConfig;

================
File: package.json
================
 1: {
 2:   "name": "seat-master-js",
 3:   "main": "node_modules/expo/AppEntry.js",
 4:   "version": "1.0.0",
 5:   "scripts": {
 6:     "start": "expo start",
 7:     "android": "expo run:android",
 8:     "ios": "expo run:ios",
 9:     "web": "expo start --web",
10:     "test": "jest --watchAll"
11:   },
12:   "jest": {
13:     "preset": "jest-expo"
14:   },
15:   "dependencies": {
16:     "@expo/vector-icons": "^14.0.2",
17:     "@react-navigation/native": "^6.1.18",
18:     "@react-navigation/stack": "^6.4.1",
19:     "expo": "~51.0.22",
20:     "expo-asset": "^10.0.10",
21:     "expo-dev-client": "^4.0.22",
22:     "expo-file-system": "^17.0.1",
23:     "expo-font": "~12.0.9",
24:     "expo-gl": "^14.0.2",
25:     "expo-linear-gradient": "~13.0.2",
26:     "expo-linking": "~6.3.1",
27:     "expo-router": "~3.5.18",
28:     "expo-splash-screen": "~0.27.5",
29:     "expo-status-bar": "~1.12.1",
30:     "expo-system-ui": "~3.0.7",
31:     "expo-web-browser": "~13.0.3",
32:     "firebase": "^11.1.0",
33:     "formik": "^2.4.6",
34:     "react": "18.2.0",
35:     "react-dom": "18.2.0",
36:     "react-native": "^0.74.5",
37:     "react-native-asset": "^2.1.1",
38:     "react-native-collapsible-tab-view": "^8.0.0",
39:     "react-native-dropdown-picker": "^5.4.6",
40:     "react-native-fs": "^2.20.0",
41:     "react-native-gesture-handler": "^2.20.0",
42:     "react-native-pager-view": "6.3.0",
43:     "react-native-paper": "^5.12.3",
44:     "react-native-reanimated": "~3.10.1",
45:     "react-native-safe-area-context": "4.10.5",
46:     "react-native-static-server": "^0.5.0",
47:     "react-native-svg": "15.2.0",
48:     "react-native-tab-view": "^3.5.2",
49:     "react-native-web": "~0.19.10",
50:     "react-native-webview": "13.8.6",
51:     "react-native-webview-autoheight": "^1.0.6",
52:     "react-promise-suspense": "^0.3.4",
53:     "styled-components": "^6.1.12",
54:     "yup": "^1.5.0"
55:   },
56:   "devDependencies": {
57:     "@babel/core": "^7.20.0",
58:     "@types/react": "~18.2.45",
59:     "@types/react-native": "^0.73.0",
60:     "depcheck": "^1.4.7",
61:     "jest": "^29.2.1",
62:     "jest-expo": "~51.0.3",
63:     "react-test-renderer": "18.2.0",
64:     "typescript": "~5.3.3"
65:   },
66:   "private": true
67: }

================
File: repomix.config.json
================
 1: {
 2:   "include": ["src/**/*", "*.*"],
 3:   "ignore": {
 4:     "customPatterns": ["**/*.log", "node_modules/**/*"]
 5:   },
 6:   "output": {
 7:     "style": "plain",
 8:     "filePath": "repomix-output.txt",
 9:     "removeComments": true,
10:     "showLineNumbers": true,
11:     "topFilesLength": 10
12:   }
13: }

================
File: tsconfig.json
================
 1: {
 2:   "extends": "expo/tsconfig.base",
 3:   "compilerOptions": {
 4:     "jsx": "react-jsx",
 5:     "strict": true,
 6:     "paths": {
 7:       "@/*": [
 8:         "./*"
 9:       ]
10:     }
11:   },
12:   "include": [
13:     "**/*.ts",
14:     "**/*.tsx",
15:     ".expo/types/**/*.ts",
16:     "expo-env.d.ts"
17:   ]
18: }



================================================================
End of Codebase
================================================================
